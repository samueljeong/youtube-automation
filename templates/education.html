<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>êµìœ¡ ì„¤ê³„ ë„ìš°ë¯¸ | BIBLE LAB</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: #f5f7fa;
      color: #333;
      line-height: 1.6;
    }

    /* Header */
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 1.5rem;
      text-align: center;
    }
    .header h1 { font-size: 1.5rem; font-weight: 700; margin-bottom: .3rem; }
    .header p { font-size: .85rem; opacity: 0.9; }

    /* Container */
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 1rem;
    }

    /* Section */
    .section {
      background: white;
      border-radius: 12px;
      padding: 1.25rem;
      margin-bottom: 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    }
    .section-title {
      font-size: 1rem;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 1rem;
      padding-bottom: .5rem;
      border-bottom: 2px solid #667eea;
    }

    /* Form Elements */
    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .form-group {
      display: flex;
      flex-direction: column;
    }
    .form-group.full-width {
      grid-column: 1 / -1;
    }
    label {
      font-size: .85rem;
      font-weight: 600;
      color: #555;
      margin-bottom: .4rem;
    }
    label .hint {
      font-weight: 400;
      color: #999;
      font-size: .75rem;
    }
    input, select, textarea {
      padding: .6rem .8rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: .9rem;
      font-family: inherit;
      transition: border-color .2s, box-shadow .2s;
    }
    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }
    textarea {
      min-height: 80px;
      resize: vertical;
    }

    /* Sub Goals */
    .sub-goals-list {
      display: flex;
      flex-direction: column;
      gap: .5rem;
    }
    .sub-goal-item {
      display: flex;
      gap: .5rem;
    }
    .sub-goal-item input {
      flex: 1;
    }
    .btn-remove-goal {
      background: #ff6b6b;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 0 .8rem;
      cursor: pointer;
      font-size: .85rem;
    }
    .btn-add-goal {
      background: #e8f0fe;
      color: #667eea;
      border: 1px dashed #667eea;
      border-radius: 6px;
      padding: .5rem;
      cursor: pointer;
      font-size: .85rem;
      margin-top: .5rem;
    }

    /* Equipment Tags */
    .equipment-tags {
      display: flex;
      flex-wrap: wrap;
      gap: .5rem;
      margin-bottom: .5rem;
    }
    .equipment-tag {
      background: #e8f0fe;
      color: #667eea;
      padding: .3rem .6rem;
      border-radius: 20px;
      font-size: .8rem;
      display: flex;
      align-items: center;
      gap: .3rem;
    }
    .equipment-tag .remove {
      cursor: pointer;
      font-weight: bold;
    }
    .equipment-input-row {
      display: flex;
      gap: .5rem;
    }
    .equipment-input-row input {
      flex: 1;
    }
    .btn-add-equipment {
      background: #667eea;
      color: white;
      border: none;
      border-radius: 6px;
      padding: .5rem 1rem;
      cursor: pointer;
      font-size: .85rem;
    }

    /* Checkboxes */
    .checkbox-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: .5rem;
    }
    .checkbox-item {
      display: flex;
      align-items: center;
      gap: .5rem;
    }
    .checkbox-item input[type="checkbox"] {
      width: 18px;
      height: 18px;
      accent-color: #667eea;
    }
    .checkbox-item label {
      margin: 0;
      font-weight: 500;
      cursor: pointer;
    }

    /* Action Buttons */
    .actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin: 1.5rem 0;
    }
    .btn {
      padding: .8rem 2rem;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform .2s, box-shadow .2s;
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .btn-primary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    .btn-secondary {
      background: #f0f0f0;
      color: #666;
    }
    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    /* Loading */
    .loading-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255,255,255,0.9);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }
    .loading-overlay.show {
      display: flex;
    }
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid #e0e0e0;
      border-top-color: #667eea;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .loading-text {
      margin-top: 1rem;
      font-size: 1rem;
      color: #667eea;
      font-weight: 600;
    }

    /* Result Section */
    #result-section {
      display: none;
    }
    #result-section.show {
      display: block;
    }

    /* Tabs */
    .tabs {
      display: flex;
      border-bottom: 2px solid #e0e0e0;
      margin-bottom: 1rem;
      overflow-x: auto;
    }
    .tab {
      padding: .8rem 1.2rem;
      background: none;
      border: none;
      font-size: .9rem;
      font-weight: 600;
      color: #888;
      cursor: pointer;
      white-space: nowrap;
      border-bottom: 3px solid transparent;
      margin-bottom: -2px;
    }
    .tab.active {
      color: #667eea;
      border-bottom-color: #667eea;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }

    /* Result Cards */
    .result-card {
      background: #f8f9ff;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1rem;
    }
    .result-card h3 {
      font-size: .95rem;
      color: #667eea;
      margin-bottom: .5rem;
    }
    .result-card p, .result-card li {
      font-size: .9rem;
      color: #444;
    }
    .result-card ul {
      padding-left: 1.2rem;
    }

    /* Session Card */
    .session-card {
      background: white;
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1rem;
    }
    .session-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: .8rem;
    }
    .session-number {
      background: #667eea;
      color: white;
      padding: .3rem .8rem;
      border-radius: 20px;
      font-size: .8rem;
      font-weight: 600;
    }
    .session-title {
      font-size: 1rem;
      font-weight: 700;
      color: #333;
    }
    .session-body {
      font-size: .85rem;
      color: #555;
    }
    .session-body .label {
      font-weight: 600;
      color: #667eea;
      margin-top: .8rem;
      margin-bottom: .3rem;
    }

    /* Time Plan */
    .time-plan {
      display: flex;
      flex-wrap: wrap;
      gap: .5rem;
      margin: .5rem 0;
    }
    .time-segment {
      background: #e8f0fe;
      padding: .3rem .6rem;
      border-radius: 6px;
      font-size: .8rem;
    }
    .time-segment .minutes {
      color: #667eea;
      font-weight: 600;
    }

    /* Copy Button */
    .btn-copy {
      background: #4ecdc4;
      color: white;
      border: none;
      padding: .5rem 1rem;
      border-radius: 6px;
      font-size: .85rem;
      cursor: pointer;
      margin-top: .5rem;
    }

    /* Announcement Box */
    .announcement-box {
      background: #fffbeb;
      border: 1px solid #fcd34d;
      border-radius: 8px;
      padding: 1rem;
      margin-bottom: 1rem;
    }
    .announcement-box h4 {
      color: #b45309;
      font-size: .9rem;
      margin-bottom: .5rem;
    }
    .announcement-box pre {
      white-space: pre-wrap;
      font-family: inherit;
      font-size: .85rem;
      color: #444;
    }

    /* Responsive */
    @media (max-width: 600px) {
      .form-row {
        grid-template-columns: 1fr;
      }
      .actions {
        flex-direction: column;
      }
      .btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <header class="header">
    <h1>êµìœ¡ ì„¤ê³„ ë„ìš°ë¯¸</h1>
    <p>ì„±ê°€ëŒ€, ì œìí›ˆë ¨, êµì‚¬êµìœ¡ ë“± êµìœ¡ í”„ë¡œê·¸ë¨ì„ AIê°€ ì„¤ê³„í•©ë‹ˆë‹¤</p>
  </header>

  <div class="container">

    <!-- 1. í”„ë¡œê·¸ë¨ ê¸°ë³¸ ì •ë³´ -->
    <div class="section">
      <div class="section-title">1. í”„ë¡œê·¸ë¨ ê¸°ë³¸ ì •ë³´</div>
      <div class="form-row">
        <div class="form-group">
          <label>êµìœ¡ëª… <span class="hint">*í•„ìˆ˜</span></label>
          <input type="text" id="edu-title" placeholder="ì˜ˆ: ì„±ê°€ëŒ€ ì‹ ì…ëŒ€ì› ê¸°ì´ˆêµìœ¡">
        </div>
        <div class="form-group">
          <label>í”„ë¡œê·¸ë¨ ìœ í˜•</label>
          <select id="edu-program-type">
            <option value="choir_training">ì„±ê°€ëŒ€ êµìœ¡</option>
            <option value="discipleship">ì œìí›ˆë ¨</option>
            <option value="teacher_training">êµì‚¬êµìœ¡</option>
            <option value="newcomer">ìƒˆê°€ì¡± êµìœ¡</option>
            <option value="leadership">ì„ì›/ë¦¬ë” êµìœ¡</option>
            <option value="custom">ê¸°íƒ€ (ì§ì ‘ ì…ë ¥)</option>
          </select>
        </div>
      </div>
      <div class="form-row" id="custom-type-row" style="display: none;">
        <div class="form-group full-width">
          <label>í”„ë¡œê·¸ë¨ ìœ í˜• ì„¤ëª…</label>
          <input type="text" id="edu-program-type-label" placeholder="ê¸°íƒ€ ì„ íƒ ì‹œ ì§ì ‘ ì…ë ¥">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>ëŒ€ìƒ ê·¸ë£¹ <span class="hint">*í•„ìˆ˜</span></label>
          <input type="text" id="edu-target-group" placeholder="ì˜ˆ: ì£¼ì¼ 2ë¶€ ì˜ˆë°° ì„±ê°€ëŒ€ ì‹ ì…ëŒ€ì›">
        </div>
        <div class="form-group">
          <label>ì˜ˆìƒ ì¸ì›</label>
          <input type="number" id="edu-participants" placeholder="ì˜ˆ: 15">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>ì—°ë ¹ëŒ€</label>
          <input type="text" id="edu-age-range" placeholder="ì˜ˆ: 20-50ëŒ€">
        </div>
        <div class="form-group">
          <label>ì‚¬ì—­ ë§¥ë½</label>
          <input type="text" id="edu-ministry-context" placeholder="ì˜ˆ: ì£¼ì¼ 2ë¶€ ì˜ˆë°° ì„±ê°€ëŒ€">
        </div>
      </div>
    </div>

    <!-- 2. ì¼ì • -->
    <div class="section">
      <div class="section-title">2. ì¼ì •</div>
      <div class="form-row">
        <div class="form-group">
          <label>ì „ì²´ íšŒì°¨ <span class="hint">*í•„ìˆ˜</span></label>
          <input type="number" id="edu-total-sessions" placeholder="ì˜ˆ: 4" min="1" max="52">
        </div>
        <div class="form-group">
          <label>ì „ì²´ ì£¼ ìˆ˜</label>
          <input type="number" id="edu-total-weeks" placeholder="ì˜ˆ: 4">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>íšŒë‹¹ ì‹œê°„ (ë¶„) <span class="hint">*í•„ìˆ˜</span></label>
          <input type="number" id="edu-session-duration" placeholder="ì˜ˆ: 90" min="30" max="480">
        </div>
        <div class="form-group">
          <label>ì§„í–‰ ë¹ˆë„</label>
          <select id="edu-frequency">
            <option value="weekly">ë§¤ì£¼</option>
            <option value="biweekly">ê²©ì£¼</option>
            <option value="monthly">ì›” 1íšŒ</option>
            <option value="one_time">ì¼íšŒì„±</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group full-width">
          <label>ì‹œì‘ ì‹œê¸°</label>
          <input type="text" id="edu-start-hint" placeholder="ì˜ˆ: 2025ë…„ 3ì›” ì²«ì§¸ ì£¼ ì‹œì‘">
        </div>
      </div>
    </div>

    <!-- 3. ëª©í‘œ -->
    <div class="section">
      <div class="section-title">3. êµìœ¡ ëª©í‘œ</div>
      <div class="form-row">
        <div class="form-group full-width">
          <label>í•µì‹¬ ëª©í‘œ <span class="hint">*í•„ìˆ˜ (ê°€ì¥ ì¤‘ìš”í•œ ëª©í‘œ 1ì¤„)</span></label>
          <input type="text" id="edu-main-goal" placeholder="ì˜ˆ: ì‹ ì… ì„±ê°€ëŒ€ì›ì´ ì˜ˆë°°ìë¡œì„œ ì •ì²´ì„±ì„ ê°€ì§€ê³  ê¸°ì¨ìœ¼ë¡œ ì„¬ê¸°ë„ë¡ ë•ëŠ”ë‹¤.">
        </div>
      </div>
      <div class="form-group full-width">
        <label>ë¶€ëª©í‘œ</label>
        <div class="sub-goals-list" id="sub-goals-list">
          <div class="sub-goal-item">
            <input type="text" placeholder="ë¶€ëª©í‘œ 1">
            <button type="button" class="btn-remove-goal" onclick="removeSubGoal(this)">Ã—</button>
          </div>
        </div>
        <button type="button" class="btn-add-goal" onclick="addSubGoal()">+ ë¶€ëª©í‘œ ì¶”ê°€</button>
      </div>
    </div>

    <!-- 4. í˜„ì¬ ìƒí™© -->
    <div class="section">
      <div class="section-title">4. í˜„ì¬ ìƒí™©</div>
      <div class="form-row">
        <div class="form-group">
          <label>ì°¸ê°€ì ìˆ˜ì¤€</label>
          <select id="edu-level">
            <option value="beginner">ì´ˆê¸‰</option>
            <option value="mid">ì¤‘ê¸‰</option>
            <option value="advanced">ê³ ê¸‰</option>
            <option value="mixed" selected>í˜¼í•©</option>
          </select>
        </div>
        <div class="form-group">
          <label>ê°•ì </label>
          <input type="text" id="edu-strengths" placeholder="ì˜ˆ: ì°¬ì–‘ì— ëŒ€í•œ ì—´ì‹¬ì´ í¬ë‹¤">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group full-width">
          <label>í•´ê²°í•˜ê³  ì‹¶ì€ ë¬¸ì œ/ê³ ë¯¼</label>
          <textarea id="edu-problems" placeholder="ì˜ˆ: ì§€ê°, ë³µì¥ í¸ì°¨, ì—°ìŠµ ì§‘ì¤‘ë„ ë¬¸ì œ"></textarea>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group full-width">
          <label>íŠ¹ë³„ ìƒí™©</label>
          <textarea id="edu-special-context" placeholder="ì˜ˆ: ìµœê·¼ ìƒˆë¡œìš´ ëŒ€ì›ì´ ë§ì´ ë“¤ì–´ì™€ ì¬ì •ë¹„ê°€ í•„ìš”í•œ ì‹œê¸°"></textarea>
        </div>
      </div>
    </div>

    <!-- 5. ì œì•½ ì¡°ê±´ -->
    <div class="section">
      <div class="section-title">5. ì œì•½ ì¡°ê±´</div>
      <div class="form-row">
        <div class="form-group">
          <label>ê°€ëŠ¥í•œ ì‹œê°„ëŒ€</label>
          <input type="text" id="edu-time-slot" placeholder="ì˜ˆ: í† ìš”ì¼ ì˜¤í›„ 4ì‹œ~6ì‹œ">
        </div>
        <div class="form-group">
          <label>ì¥ì†Œ</label>
          <input type="text" id="edu-space" placeholder="ì˜ˆ: ë³¸ë‹¹, ì†Œì˜ˆë°°ì‹¤">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group full-width">
          <label>ì‚¬ìš© ê°€ëŠ¥ ì¥ë¹„</label>
          <div class="equipment-tags" id="equipment-tags"></div>
          <div class="equipment-input-row">
            <input type="text" id="equipment-input" placeholder="ì¥ë¹„ ì…ë ¥ í›„ ì¶”ê°€ ë²„íŠ¼ í´ë¦­">
            <button type="button" class="btn-add-equipment" onclick="addEquipment()">ì¶”ê°€</button>
          </div>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>ì˜ˆì‚° ìˆ˜ì¤€</label>
          <select id="edu-budget">
            <option value="low">ë‚®ìŒ (ë‹¤ê³¼ ì •ë„)</option>
            <option value="mid" selected>ì¤‘ê°„</option>
            <option value="high">ë†’ìŒ (ì‹ì‚¬/ì¬ë£Œë¹„ ê°€ëŠ¥)</option>
          </select>
        </div>
        <div class="form-group">
          <label>ê¸°íƒ€ ì œì•½</label>
          <input type="text" id="edu-other-limitations" placeholder="ì˜ˆ: ì‹ì‚¬ ì œê³µ ë¶ˆê°€">
        </div>
      </div>
    </div>

    <!-- 6. ì¶œë ¥ ì˜µì…˜ -->
    <div class="section">
      <div class="section-title">6. ì¶œë ¥ ì˜µì…˜</div>
      <div class="checkbox-group">
        <div class="checkbox-item">
          <input type="checkbox" id="opt-curriculum" checked>
          <label for="opt-curriculum">ì»¤ë¦¬í˜ëŸ¼ ê°œìš”</label>
        </div>
        <div class="checkbox-item">
          <input type="checkbox" id="opt-detailed" checked>
          <label for="opt-detailed">íšŒì°¨ë³„ ìƒì„¸ êµì•ˆ</label>
        </div>
        <div class="checkbox-item">
          <input type="checkbox" id="opt-announcement" checked>
          <label for="opt-announcement">ê³µì§€ë¬¸/ì•ˆë‚´ë¬¸</label>
        </div>
        <div class="checkbox-item">
          <input type="checkbox" id="opt-homework" checked>
          <label for="opt-homework">ìˆ™ì œ/ì ìš© ì•„ì´ë””ì–´</label>
        </div>
        <div class="checkbox-item">
          <input type="checkbox" id="opt-evaluation">
          <label for="opt-evaluation">í‰ê°€/í”¼ë“œë°± ë¬¸í•­</label>
        </div>
      </div>
      <div class="form-row" style="margin-top: 1rem;">
        <div class="form-group">
          <label>í†¤/ì–´ì¡°</label>
          <select id="edu-tone">
            <option value="ì²­ë…„">ì²­ë…„</option>
            <option value="ì¥ë…„" selected>ì¥ë…„</option>
            <option value="êµì‚¬">êµì‚¬</option>
            <option value="ë¦¬ë”">ë¦¬ë”</option>
          </select>
        </div>
        <div class="form-group">
          <label>ìƒì„¸ ìˆ˜ì¤€</label>
          <select id="edu-detail-level">
            <option value="simple">ê°„ë‹¨íˆ</option>
            <option value="normal" selected>ë³´í†µ</option>
            <option value="deep">ìƒì„¸íˆ</option>
          </select>
        </div>
      </div>
    </div>

    <!-- 7. ì¶”ê°€ ë©”ëª¨ -->
    <div class="section">
      <div class="section-title">7. ì¶”ê°€ ë©”ëª¨ (ì„ íƒ)</div>
      <div class="form-group">
        <textarea id="edu-extra-notes" placeholder="AIì—ê²Œ ì „ë‹¬í•˜ê³  ì‹¶ì€ íŠ¹ì´ì‚¬í•­ì´ë‚˜ ìš”ì²­ì‚¬í•­ì„ ììœ ë¡­ê²Œ ì ì–´ì£¼ì„¸ìš”.&#10;ì˜ˆ: ë§ˆì§€ë§‰ íšŒì°¨ì—ëŠ” ì „ì²´ íŠ¹ì†¡ìœ¼ë¡œ ë§ˆë¬´ë¦¬í•˜ë©´ ì¢‹ê² ë‹¤."></textarea>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="actions">
      <button class="btn btn-secondary" onclick="resetForm()">ì´ˆê¸°í™”</button>
      <button class="btn btn-primary" id="btn-generate" onclick="generateCurriculum()">âœ¨ êµìœ¡ ì„¤ê³„ ìƒì„±</button>
    </div>

    <!-- Result Section -->
    <div id="result-section">
      <div class="section">
        <div class="section-title">ìƒì„± ê²°ê³¼</div>

        <div class="tabs">
          <button class="tab active" data-tab="summary">ê°œìš”</button>
          <button class="tab" data-tab="curriculum">ì»¤ë¦¬í˜ëŸ¼</button>
          <button class="tab" data-tab="sessions">íšŒì°¨ë³„ ìƒì„¸</button>
          <button class="tab" data-tab="announcements">ê³µì§€ë¬¸</button>
          <button class="tab" data-tab="evaluation">í‰ê°€</button>
        </div>

        <!-- Summary Tab -->
        <div class="tab-content active" id="tab-summary">
          <div id="summary-content"></div>
        </div>

        <!-- Curriculum Tab -->
        <div class="tab-content" id="tab-curriculum">
          <div id="curriculum-content"></div>
        </div>

        <!-- Sessions Tab -->
        <div class="tab-content" id="tab-sessions">
          <div id="sessions-content"></div>
        </div>

        <!-- Announcements Tab -->
        <div class="tab-content" id="tab-announcements">
          <div id="announcements-content"></div>
        </div>

        <!-- Evaluation Tab -->
        <div class="tab-content" id="tab-evaluation">
          <div id="evaluation-content"></div>
        </div>

      </div>

      <div class="actions">
        <button class="btn btn-secondary" onclick="saveResult()">ğŸ’¾ ê²°ê³¼ ì €ì¥</button>
        <button class="btn btn-primary" onclick="copyAllResult()">ğŸ“‹ ì „ì²´ ë³µì‚¬</button>
      </div>
    </div>

  </div>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loading-overlay">
    <div class="loading-spinner"></div>
    <div class="loading-text">AIê°€ êµìœ¡ ì»¤ë¦¬í˜ëŸ¼ì„ ì„¤ê³„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>
  </div>

  <script src="{{ url_for('static', filename='js/education-main.js') }}"></script>
</body>
</html>
