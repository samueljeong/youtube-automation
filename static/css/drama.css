/* Drama Lab Styles - 분리됨: 2024-11-27 */

* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #f5f5f5;
}
.page-wrap {
  display: flex;
  gap: 1rem;
  padding: 1rem;
  height: 100vh;
}
.left-col {
  width: 240px;
  display: flex;
  flex-direction: column;
  gap: .5rem;
  overflow-y: auto;
  font-size: .85rem;
}
.right-col {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  min-width: 0;
  overflow-y: hidden;
}
.panel {
  display: none;
  flex: 1;
  min-height: 0;
}
.panel.active { display: flex; }
.workflow-panel { gap: 1rem; }
.guide-panel, .data-panel {
  flex-direction: column;
  gap: 1rem;
}
.guide-panel .box,
.data-panel .box { border: 1px solid #eee; }
.content-area {
  flex: 7;
  display: flex;
  flex-direction: column;
  gap: .75rem;
  overflow-y: auto;
  min-width: 0;
}
.analysis-area {
  flex: 3;
  display: flex;
  flex-direction: column;
  gap: .75rem;
  overflow-y: auto;
  min-width: 0;
}
.box {
  background: #fff;
  border: none;
  border-radius: 12px;
  padding: .75rem;
  box-shadow: 0 2px 8px rgba(0,0,0,.06);
  transition: box-shadow 0.2s ease;
}
.box:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,.1);
}
.label-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: .5rem;
  margin-bottom: .35rem;
}
.label { font-weight: 600; }
input[type="text"],
input[type="date"],
select {
  width: 100%;
  padding: .35rem .5rem;
}
textarea {
  width: 100%;
  min-height: 80px;
  resize: vertical;
  font-family: inherit;
  line-height: 1.4;
}
.btn-row {
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;
}
button {
  padding: .35rem .6rem;
  border: none;
  background: #f8f9fa;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,.05);
}
button:hover {
  background: #e9ecef;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0,0,0,.1);
}
button.primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
}
button.primary:hover {
  background: linear-gradient(135deg, #5568d3 0%, #663a91 100%);
}
button.danger {
  background: #e74c3c;
  color: white;
}
button.danger:hover {
  background: #c0392b;
}
button.step-btn {
  width: 100%;
  margin-bottom: .5rem;
}

.quick-nav {
  background: linear-gradient(135deg, #0f172a 0%, #1f2937 100%);
  padding: 1rem;
  border-radius: 12px;
  box-shadow: 0 4px 16px rgba(0,0,0,.15);
  color: rgba(255,255,255,0.9);
}
.quick-nav h3 {
  margin: 0 0 .75rem;
  font-size: 1rem;
  color: white;
  text-align: center;
  letter-spacing: .5px;
}
.quick-nav .nav-btn {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: .65rem .75rem;
  margin-bottom: .45rem;
  border-radius: 10px;
  background: rgba(255,255,255,0.08);
  color: rgba(255,255,255,0.9);
  border: 1px solid rgba(255,255,255,0.1);
  font-weight: 600;
  cursor: pointer;
  transition: all .2s ease;
}
.quick-nav .nav-btn:hover {
  background: rgba(255,255,255,0.16);
  transform: translateX(4px);
}
.quick-nav .nav-btn.active {
  background: linear-gradient(135deg, #f97316 0%, #ef4444 100%);
  color: white;
  box-shadow: 0 6px 18px rgba(249,115,22,0.3);
}
.quick-nav .nav-label { font-size: .9rem; }
.quick-nav .nav-desc { font-size: .72rem; opacity: .8; }

/* Step 네비게이션 버튼 스타일 */
.step-nav-btn {
  display: flex;
  align-items: center;
  gap: .5rem;
  width: 100%;
  padding: .5rem .6rem;
  background: rgba(255,255,255,0.1);
  border: none;
  border-radius: 8px;
  color: rgba(255,255,255,0.7);
  cursor: pointer;
  transition: all 0.2s;
  text-align: left;
}
.step-nav-btn:hover {
  background: rgba(255,255,255,0.2);
  color: white;
  transform: translateX(3px);
}
.step-nav-btn.active {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
}
.step-nav-btn.completed {
  background: rgba(16, 185, 129, 0.3);
  color: #10b981;
}
.step-nav-btn .step-num {
  width: 20px;
  height: 20px;
  background: rgba(255,255,255,0.2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: .7rem;
  font-weight: 700;
}
.step-nav-btn.active .step-num {
  background: white;
  color: #667eea;
}
.step-nav-btn.completed .step-num {
  background: #10b981;
  color: white;
}
.step-nav-btn .step-name {
  flex: 1;
  font-size: .8rem;
  font-weight: 500;
}
.step-nav-btn .step-status {
  font-size: .6rem;
  opacity: 0.7;
}
.step-nav-btn.completed .step-status {
  color: #10b981;
  opacity: 1;
}

.style-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: .4rem .6rem;
  margin-bottom: .3rem;
  background: #f8f9fa;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s;
  border: 2px solid transparent;
}
.style-item:hover { background: #e9ecef; }
.style-item.active {
  background: #f0e6ff;
  border: 2px solid #667eea;
}
.style-desc {
  font-size: .75rem;
  color: #666;
  margin-top: .2rem;
}

.toggle-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.status-bar {
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 6px;
  padding: .4rem .7rem;
  font-size: .8rem;
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
  display: none;
  text-align: center;
  margin: 0 auto;
  max-width: 400px;
}

.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.5);
  z-index: 2000;
  align-items: center;
  justify-content: center;
}
.modal.show { display: flex; }
.modal-content {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  max-width: 600px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
}
.modal-title {
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 1rem;
}
.modal-buttons {
  display: flex;
  gap: .5rem;
  margin-top: 1rem;
}
.modal-buttons button { flex: 1; }

.storage-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: .4rem .6rem;
  margin-bottom: .3rem;
  background: #f8f9fa;
  border-radius: 6px;
}

textarea.autosize { overflow: hidden; }

/* GPT PRO 결과 박스 스타일 */
.gpt-pro-result-box {
  background: linear-gradient(135deg, #ff6b9d 0%, #c06c84 100%);
  border: none;
  padding: 1rem;
  border-radius: 8px;
  margin-top: .75rem;
}
.gpt-pro-result-box .label {
  color: white;
  font-size: 1.1rem;
  margin-bottom: .5rem;
}
.gpt-pro-result-box textarea {
  background: white;
  border: none;
  border-radius: 6px;
  padding: .75rem;
  min-height: 300px;
}

/* 버튼 컨테이너 */
.top-buttons-container {
  display: flex;
  gap: .75rem;
}
.top-buttons-container .box {
  flex: 1;
  padding: 1rem;
  border: none;
}
.copy-all-box {
  background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
}
.gpt-pro-box {
  background: linear-gradient(135deg, #ff6b9d 0%, #e74c3c 100%);
}
.top-buttons-container button {
  background: white;
  font-weight: 600;
  padding: .6rem 1.2rem;
  border: none;
  font-size: .95rem;
  width: 100%;
}
.copy-all-box button {
  color: #e74c3c;
}
.gpt-pro-box button {
  color: #e74c3c;
}
.top-buttons-container .box-title {
  color: white;
  font-weight: 600;
  font-size: 1.1rem;
  margin-bottom: .3rem;
}
.top-buttons-container .box-desc {
  color: rgba(255,255,255,0.9);
  font-size: .85rem;
  margin-bottom: .75rem;
}

/* Auth header */
.auth-header {
  background: white;
  border-bottom: 2px solid #e0e0e0;
  padding: .75rem 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.auth-header h1 {
  font-size: 1.2rem;
  margin: 0;
  color: #333;
}
.auth-links {
  display: flex;
  gap: .75rem;
  align-items: center;
}
.auth-links .user-info {
  font-size: .9rem;
  color: #555;
  font-weight: 500;
}
.auth-links a {
  padding: .4rem .8rem;
  text-decoration: none;
  border-radius: 6px;
  font-size: .85rem;
  font-weight: 600;
  transition: all 0.2s;
}
.auth-links .btn-login {
  background: white;
  color: #e74c3c;
  border: 2px solid #e74c3c;
}
.auth-links .btn-login:hover {
  background: #e74c3c;
  color: white;
}
.auth-links .btn-signup {
  background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
  color: white;
  border: none;
}
.auth-links .btn-signup:hover {
  opacity: 0.9;
}
.auth-links .btn-logout {
  background: #e74c3c;
  color: white;
  border: none;
}
.auth-links .btn-logout:hover {
  background: #c0392b;
}
.auth-links .btn-home {
  background: #95a5a6;
  color: white;
  border: none;
}
.auth-links .btn-home:hover {
  background: #7f8c8d;
}

/* 벤치마킹 대본 박스 - 고정 높이 */
#benchmark-script {
  height: 80px;
  max-height: 80px;
  min-height: 80px;
  resize: none;
}

/* 중앙 로딩 인디케이터 */
.loading-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  z-index: 9999;
  align-items: center;
  justify-content: center;
}
.loading-overlay.show {
  display: flex;
}
.loading-content {
  background: white;
  border-radius: 16px;
  padding: 2rem 3rem;
  text-align: center;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}
.loading-spinner {
  width: 60px;
  height: 60px;
  border: 5px solid #f3f3f3;
  border-top: 5px solid #e74c3c;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 1rem;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.loading-text {
  font-size: 1.2rem;
  font-weight: 600;
  color: #333;
  margin-bottom: 0.5rem;
}
.loading-subtext {
  font-size: 0.9rem;
  color: #666;
}

/* Step1/Step2/Step3 박스 스타일 */
.workflow-box.step1 {
  border: 2px solid #e74c3c;
  background: #fff5f5;
}
.workflow-box.step2 {
  border: 2px solid #9b59b6;
  background: #f8f5ff;
}
.workflow-box.step3 {
  border: 2px solid #f39c12;
  background: #fffbf0;
}
.step-badge {
  display: inline-block;
  padding: 0.2rem 0.6rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 600;
  margin-left: 0.5rem;
}
.step-badge.step1 {
  background: #e74c3c;
  color: white;
}
.step-badge.step2 {
  background: #9b59b6;
  color: white;
}
.step-badge.step3 {
  background: #f39c12;
  color: white;
}
/* Step3 결과 박스 스타일 */
.step3-result-box {
  background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
  border: none;
  padding: 1rem;
  border-radius: 12px;
  margin-top: .75rem;
}
.step3-result-box .label {
  color: white;
  font-size: 1.1rem;
  margin-bottom: .5rem;
}
.step3-result-box textarea {
  background: white;
  border: none;
  border-radius: 6px;
  padding: .75rem;
  min-height: 300px;
}

/* Step4 이미지 생성 박스 스타일 */
.step2-container {
  background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
  border: none;
  padding: 1rem;
  border-radius: 12px;
  margin-top: .75rem;
}
.step2-container .label {
  color: white;
  font-size: 1.1rem;
  font-weight: 700;
}
.step2-prompt-section {
  background: white;
  border-radius: 8px;
  padding: .75rem;
  margin-bottom: .75rem;
}
.step2-prompt-section .prompt-label {
  font-weight: 600;
  font-size: .9rem;
  margin-bottom: .4rem;
  color: #333;
}
.step2-prompt-section textarea {
  width: 100%;
  min-height: 80px;
  border: 1px solid #ddd;
  border-radius: 6px;
  padding: .5rem;
  font-size: .85rem;
  resize: vertical;
}
.step2-image-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: .75rem;
}
.step2-image-item {
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,.1);
}
.step2-image-item img {
  width: 100%;
  height: auto;
  display: block;
}
.step2-image-item .image-caption {
  padding: .5rem;
  font-size: .75rem;
  color: #666;
  text-align: center;
}
.step2-btn {
  background: white;
  color: #11998e;
  border: none;
  padding: .5rem 1rem;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  font-size: .85rem;
  transition: all 0.2s;
}
.step2-btn:hover {
  background: #f0f0f0;
  transform: translateY(-1px);
}
.step2-btn.generating {
  opacity: 0.7;
  cursor: not-allowed;
}

/* Step5 TTS 박스 스타일 */
.step3-container {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  padding: 1rem;
  border-radius: 12px;
  margin-top: .75rem;
}
.step3-container .label {
  color: white;
  font-size: 1.1rem;
  font-weight: 700;
}
.step3-section {
  background: white;
  border-radius: 8px;
  padding: .75rem;
  margin-bottom: .75rem;
}
.step3-section .section-label {
  font-weight: 600;
  font-size: .9rem;
  margin-bottom: .4rem;
  color: #333;
}
.step3-btn {
  background: white;
  color: #667eea;
  border: none;
  padding: .5rem 1rem;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  font-size: .85rem;
  transition: all 0.2s;
}
.step3-btn:hover {
  background: #f0f0f0;
  transform: translateY(-1px);
}
.step3-btn.generating {
  opacity: 0.7;
  cursor: not-allowed;
}
.step3-audio-player {
  width: 100%;
  margin-top: .5rem;
}
.step3-subtitle-preview {
  background: #1a1a2e;
  color: #fff;
  padding: 1rem;
  border-radius: 8px;
  font-family: monospace;
  font-size: .85rem;
  max-height: 200px;
  overflow-y: auto;
  white-space: pre-wrap;
}
.step3-voice-select {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: .5rem;
}
.step3-voice-option {
  padding: .5rem;
  border: 2px solid #ddd;
  border-radius: 8px;
  cursor: pointer;
  text-align: center;
  transition: all 0.2s;
  font-size: .8rem;
}
.step3-voice-option:hover {
  border-color: #667eea;
  background: #f8f5ff;
}
.step3-voice-option.selected {
  border-color: #667eea;
  background: #667eea;
  color: white;
}
.step3-voice-option.selected .voice-preview-btn {
  background: rgba(255,255,255,0.3);
  color: white;
}
.voice-preview-btn {
  padding: .25rem .5rem;
  border: none;
  border-radius: 4px;
  background: #f0f0f0;
  cursor: pointer;
  font-size: .8rem;
  transition: all 0.2s;
}
.voice-preview-btn:hover {
  background: #667eea;
  color: white;
  transform: scale(1.1);
}
.voice-preview-btn.loading {
  opacity: 0.5;
  pointer-events: none;
}

/* Step6 영상 제작 박스 스타일 */
.step2-container {
  background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
  border: none;
  padding: 1rem;
  border-radius: 12px;
  margin-top: .75rem;
}
.step2-container .label {
  color: white;
  font-size: 1.1rem;
  font-weight: 700;
}
.step2-section {
  background: white;
  border-radius: 8px;
  padding: .75rem;
  margin-bottom: .75rem;
}
.step2-section .section-label {
  font-weight: 600;
  font-size: .9rem;
  margin-bottom: .4rem;
  color: #333;
}
.step2-btn {
  background: white;
  color: #e74c3c;
  border: none;
  padding: .5rem 1rem;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  font-size: .85rem;
  transition: all 0.2s;
}
.step2-btn:hover {
  background: #f0f0f0;
  transform: translateY(-1px);
}
.step2-btn.generating {
  opacity: 0.7;
  cursor: not-allowed;
}
.step2-preview-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: .5rem;
  margin-top: .5rem;
}
.step2-preview-item {
  position: relative;
  border-radius: 6px;
  overflow: hidden;
  cursor: pointer;
  border: 2px solid transparent;
  transition: all 0.2s;
}
.step2-preview-item:hover {
  border-color: #e74c3c;
}
.step2-preview-item.selected {
  border-color: #e74c3c;
  box-shadow: 0 0 10px rgba(231, 76, 60, 0.5);
}
.step2-preview-item img {
  width: 100%;
  height: 80px;
  object-fit: cover;
}
.step2-video-preview {
  background: #1a1a2e;
  border-radius: 8px;
  padding: 1rem;
  text-align: center;
}
.step2-video-preview video {
  max-width: 100%;
  max-height: 400px;
  border-radius: 6px;
}

/* Step5 유튜브 업로드 박스 스타일 */
.step5-container {
  background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);
  border: none;
  padding: 1rem;
  border-radius: 12px;
  margin-top: .75rem;
}
.step5-container .label {
  color: white;
  font-size: 1.1rem;
  font-weight: 700;
}
.step5-section {
  background: white;
  border-radius: 8px;
  padding: .75rem;
  margin-bottom: .75rem;
}
.step5-section .section-label {
  font-weight: 600;
  font-size: .9rem;
  margin-bottom: .4rem;
  color: #333;
}
.step5-btn {
  background: white;
  color: #ff0000;
  border: none;
  padding: .5rem 1rem;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  font-size: .85rem;
  transition: all 0.2s;
}
.step5-btn:hover {
  background: #f0f0f0;
  transform: translateY(-1px);
}
.step5-btn.uploading {
  opacity: 0.7;
  cursor: not-allowed;
}
.step5-input {
  width: 100%;
  padding: .5rem;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: .85rem;
  margin-bottom: .5rem;
}
.step5-input:focus {
  outline: none;
  border-color: #ff0000;
}
.step5-privacy-option {
  display: inline-flex;
  align-items: center;
  gap: .3rem;
  padding: .4rem .8rem;
  border: 2px solid #ddd;
  border-radius: 6px;
  cursor: pointer;
  font-size: .8rem;
  transition: all 0.2s;
  margin-right: .5rem;
}
.step5-privacy-option:hover {
  border-color: #ff0000;
}
.step5-privacy-option.selected {
  border-color: #ff0000;
  background: #ff0000;
  color: white;
}

/* Step 접기/펼치기 */
.workflow-box.collapsed .box-content {
  display: none;
}
.workflow-box.collapsed {
  opacity: 0.6;
}

/* Step 헤더 상단 고정 (sticky) */
.step-header {
  position: sticky;
  top: 0;
  z-index: 100;
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: .75rem;
  padding: .75rem 1rem;
  border-radius: 10px;
  background: inherit;
  backdrop-filter: blur(10px);
}
.step3-result-box .step-header {
  background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
}
.step2-container .step-header {
  background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
}
.step3-container .step-header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}
.step2-container .step-header {
  background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
}
.step5-container .step-header {
  background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);
}

/* ===== Q&A 대화 기록 스타일 (추가) ===== */
.qa-history {
  max-height: 400px;
  overflow-y: auto;
  padding: 0.5rem;
  background: #f8f9fa;
  border-radius: 8px;
  margin-bottom: 0.75rem;
}
.qa-message {
  margin-bottom: 0.75rem;
  padding: 0.75rem;
  border-radius: 8px;
}
.qa-message.user {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  margin-left: 2rem;
}
.qa-message.assistant {
  background: white;
  border: 1px solid #e0e0e0;
  margin-right: 2rem;
}
.qa-message-label {
  font-size: 0.7rem;
  font-weight: 600;
  margin-bottom: 0.3rem;
  opacity: 0.8;
}
.qa-message-content {
  font-size: 0.9rem;
  line-height: 1.5;
  white-space: pre-wrap;
}
.qa-empty-state {
  text-align: center;
  color: #999;
  padding: 2rem;
  font-size: 0.85rem;
}
.qa-input-container {
  display: flex;
  gap: 0.5rem;
}
.qa-input-container input {
  flex: 1;
  padding: 0.5rem 0.75rem;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 0.9rem;
}
.qa-input-container input:focus {
  outline: none;
  border-color: #667eea;
}
.qa-input-container button {
  padding: 0.5rem 1rem;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
}
.qa-input-container button:hover {
  opacity: 0.9;
}
