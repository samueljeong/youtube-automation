{
  "version": "3.1",
  "lastUpdated": "2025-11-24",
  "description": "드라마/간증 대본 자동 생성을 위한 구조화된 스타일 가이드 (JSON 출력 형식 포함, TTS 숫자 표현/호칭 규칙/인트로 하이라이트 강화)",

  "step1_script_guidelines": {
    "description": "Step1 대본 작성 시 반드시 따라야 할 지침",

    "pre_check": {
      "description": "대본 작성 전 반드시 확인할 사항",
      "must_check": [
        "영상 시간 (10분/20분/30분)",
        "콘텐츠 유형 (간증/드라마)",
        "주인공 정보"
      ]
    },

    "duration_settings": {
      "10min": {
        "target_length": 3000,
        "max_characters": 2,
        "max_scenes": 4,
        "images_per_scene": "1-2",
        "highlight_scenes": 2
      },
      "20min": {
        "target_length": 6000,
        "max_characters": 3,
        "max_scenes": 6,
        "images_per_scene": "1-2",
        "highlight_scenes": 3
      },
      "30min": {
        "target_length": 9000,
        "max_characters": 4,
        "max_scenes": 8,
        "images_per_scene": "1-2",
        "highlight_scenes": 3
      }
    },

    "character_rules": {
      "min_count": 1,
      "max_count": 4,
      "reason": "TTS 음성 다양성 한계로 인해 최대 4명으로 제한",
      "target_audience": "60대 이상 시니어 시청자",
      "age_requirement": {
        "protagonist_min_age": 60,
        "protagonist_max_age": 85,
        "description": "주인공은 반드시 60대~80대여야 함. 20대, 30대, 40대 젊은 인물은 절대 금지!",
        "forbidden_ages": ["20대", "30대", "40대", "50대 미만"]
      },
      "uniqueness_rules": {
        "description": "매번 완전히 다른 인물을 생성해야 함 - 같은 채널에 반복 업로드되므로 중복 금지",
        "forbidden_names": ["지선", "민수", "영희", "철수", "수진", "민지", "현수", "지영", "준호", "미영", "영수", "정희", "미숙", "순자", "옥순", "말자", "길동"],
        "recommended_name_styles": [
          "시대감 있는 이름 (덕순, 복남, 순임, 갑돌, 용팔, 분이)",
          "지역별 특색 있는 이름 (순덕, 옥녀, 봉팔, 춘자, 판수)",
          "60-80대에 어울리는 독특한 이름"
        ],
        "must_vary": [
          "이름 (금지 목록 이외의 독특한 한국식 이름)",
          "직업/역할 (목사, 농부, 어부, 상인, 교사, 간호사, 요리사, 운전사, 경비원, 청소부, 봉사자, 한의사, 목수, 대장장이, 떡집 주인, 철물점 주인, 미용사, 이발사, 약사 등)",
          "거주지 (강원도 정선, 전남 곡성, 경북 영덕, 충북 단양, 제주 서귀포, 전북 남원, 경남 하동 등 구체적 지명)",
          "가족 구성 (배우자 유무, 자녀 수 1~5명, 손자녀 등)",
          "성격과 말투 (무뚝뚝, 과묵, 수다스러움, 호탕함 등)",
          "외모 특징 (체형, 얼굴 특징, 머리 스타일 등)",
          "과거 경험과 배경 스토리"
        ],
        "forbidden_patterns": [
          "이전에 생성된 인물과 유사한 설정",
          "전형적이거나 클리셰적인 캐릭터",
          "너무 평범하거나 특징 없는 인물",
          "젊은 인물 (60세 미만 주인공)"
        ]
      },
      "guidelines": [
        "억지로 인물을 늘리지 말 것",
        "스토리에 필요한 최소한의 인물만 사용",
        "각 인물은 명확한 역할과 목적이 있어야 함",
        "주인공은 반드시 60대~80대로 설정 (20대~50대 금지!)",
        "매번 완전히 새롭고 독특한 인물을 창조할 것",
        "금지된 이름(지선, 민수 등) 사용하지 말 것",
        "이전 대본과 다른 직업, 배경, 성격을 가진 인물 설정"
      ]
    },

    "highlight_rules": {
      "purpose": "시청자 이탈 방지 - 영상 시작 1분 내 배치 (필수!)",
      "importance": "🚨 매우 중요: 인트로 하이라이트가 없으면 시청자가 바로 이탈함",
      "duration_seconds": 60,
      "max_scenes": 3,
      "mandatory": true,
      "type_selection": {
        "options": ["climax_preview", "curiosity_hook"],
        "climax_preview": "가장 극적인 클라이맥스 장면 미리보기",
        "curiosity_hook": "결말을 암시하며 궁금증 유발",
        "selection_criteria": "대본 내용에 따라 AI가 더 효과적인 방식 선택"
      },
      "hooking_examples": {
        "description": "시청자를 끌어당기는 후킹 멘트 예시 - 반드시 이런 스타일로 시작",
        "examples": [
          "사십칠 년 만에 기적이 일어났습니다.",
          "그날, 저는 모든 것을 포기하려 했습니다.",
          "아내가 제 손을 잡고 말했습니다. '여보, 이제 그만해도 돼요.'",
          "교회 문이 열리는 소리가 들렸습니다. 그 순간, 저는 눈물이 터졌습니다.",
          "의사 선생님이 말했습니다. '기적입니다. 설명할 수가 없습니다.'",
          "삼십 년 동안 기다린 그 한 마디를 마침내 들었습니다.",
          "그 전화 한 통이 제 인생을 완전히 바꿔놓았습니다."
        ],
        "pattern": "[극적인 숫자/시간] + [반전/기적/변화를 암시하는 문장]"
      },
      "structure": {
        "opening_hook": {
          "description": "첫 문장 - 가장 강력한 후킹",
          "duration_seconds": 10,
          "must_include": "극적인 결과나 반전을 암시하는 한 문장",
          "example": "사십칠 년 만에 기적이 일어났습니다."
        },
        "context_tease": {
          "description": "맥락 제공 - 궁금증 유발",
          "duration_seconds": 20,
          "must_include": "어떤 상황이었는지 짧게 암시 (스포일러 없이)",
          "example": "저는 그날 마지막 예배를 준비하고 있었습니다. 모든 것을 정리하고..."
        },
        "emotional_peak": {
          "description": "감정적 절정 미리보기",
          "duration_seconds": 30,
          "must_include": "가장 감동적인 순간의 일부 (결말 스포일러 없이)",
          "example": "교회 문이 열렸습니다. 그리고... (여기서 끊고 본편으로)"
        }
      },
      "guidelines": [
        "🚨 하이라이트는 반드시 작성해야 함 - 생략 금지!",
        "첫 문장에서 시청자를 사로잡아야 함",
        "핵심 반전이나 감동 순간을 암시하되 스포일러는 피함",
        "시청자가 '어떻게 된 거지?' 궁금해하게 만들기",
        "각 하이라이트 장면은 짧고 임팩트 있게",
        "숫자는 한글로 표기 (TTS 규칙 적용)"
      ],
      "forbidden": [
        "하이라이트 없이 바로 자기소개로 시작",
        "결말을 직접적으로 스포일러",
        "지루한 설명으로 시작",
        "평범한 인사로 시작 (안녕하세요로 바로 시작 금지)"
      ]
    },

    "output_format": {
      "description": "Step1 대본 출력은 반드시 아래 JSON 형식을 따를 것",
      "note": "scene_meta 내용은 나레이션이 읽지 않음 - Step2 이미지 생성용",

      "json_structure": {
        "metadata": {
          "title": "대본 제목",
          "duration_minutes": "영상 길이 (10/20/30)",
          "target_length": "목표 글자수",
          "genre": "testimony 또는 drama",
          "total_scenes": "총 씬 개수",
          "total_characters": "총 등장인물 수"
        },

        "characters": {
          "description": "등장인물 상세 정보 - Step2 이미지 생성에 사용",
          "schema": {
            "id": "char_01, char_02 형식",
            "name": "이름 (성+이름)",
            "age": "나이 (00세 형식)",
            "gender": "남성/여성",
            "role": "주인공/조연/단역",
            "occupation": "직업/역할",
            "relationship_to_protagonist": "주인공과의 관계",
            "appearance": {
              "height": "키와 자세",
              "body_type": "체형",
              "face": "얼굴 특징 상세히",
              "hair": "머리 스타일과 색상",
              "skin": "피부 상태/톤",
              "distinctive_features": "특징적인 외모 요소"
            },
            "clothing_style": "주로 입는 옷차림",
            "personality": "성격 특성",
            "speaking_style": "말투 특징",
            "voice_characteristics": "목소리 특징 (TTS 참고용)"
          }
        },

        "highlight": {
          "description": "영상 시작부 하이라이트 (이탈 방지용)",
          "schema": {
            "purpose": "하이라이트 목적 설명",
            "duration_seconds": 60,
            "type": "climax_preview 또는 curiosity_hook",
            "scenes": [
              {
                "order": "순서 (1,2,3)",
                "preview_text": "하이라이트 나레이션 텍스트",
                "scene_hint": "어떤 장면인지 힌트 (스포일러 없이)",
                "emotion": "전달할 감정"
              }
            ]
          }
        },

        "script": {
          "description": "본편 대본",
          "scenes": {
            "scene_meta": {
              "description": "씬 메타데이터 - 나레이션이 읽지 않음, 이미지 생성용",
              "schema": {
                "scene_id": "씬 번호",
                "scene_title": "씬 제목",
                "structure_phase": "7단계 구조 중 해당 단계",
                "location": {
                  "place": "구체적 장소명",
                  "setting": "장소 내 세부 설정/소품",
                  "indoor_outdoor": "실내/실외"
                },
                "time": {
                  "period": "시간대 (새벽/아침/낮/저녁/밤)",
                  "season": "계절",
                  "weather": "날씨 상태"
                },
                "atmosphere": {
                  "mood": "전체적인 분위기",
                  "lighting": "조명 상태 상세히",
                  "sound_ambience": "배경 소리/환경음"
                },
                "visual_direction": {
                  "camera_suggestion": "카메라 앵글/움직임 제안",
                  "key_visual": "핵심 시각적 요소",
                  "color_tone": "색감/톤"
                },
                "characters_in_scene": ["해당 씬 등장인물 id 배열"],
                "character_states": {
                  "char_id": {
                    "emotion": "현재 감정 상태",
                    "expression": "표정 상세",
                    "posture": "자세/몸짓",
                    "action": "하고 있는 행동"
                  }
                }
              }
            },
            "narration": "실제 나레이션 텍스트 (TTS가 읽을 내용)"
          }
        }
      }
    }
  },

  "script_style": {
    "narrator_type": "first_person_testimony",
    "perspective": "주인공이 직접 고백하는 형식",
    "opening": "안녕하세요. 저는 [장소]에서 [직업/역할]을 하고 있는 [이름]입니다.",
    "closing": "여러분은 어떠신가요? 지금 인생에서 마지막이라고 느끼는 순간을 겪고 계신가요? 기억하세요. 하나님께서는 우리가 끝이라고 생각하는 바로 그 순간에 새로운 문을 열어 주십니다. 좋아요와 구독 부탁드립니다. 댓글로 여러분의 생각을 나눠주세요."
  },

  "structure": {
    "total_length": 15000,
    "sections": [
      {
        "id": 1,
        "name": "인사_및_자기소개",
        "korean_name": "인사 및 자기소개",
        "length_ratio": 0.05,
        "purpose": "시청자 관심 끌기, 화자 신뢰 형성",
        "must_include": ["이름", "나이", "직업/역할", "장소"],
        "example": "안녕하세요. 저는 강원도 원주 금교 작은 시골마을에서 20년째 목회하고 있는 이정수 목사입니다. 올해 76세가 되었습니다.",
        "guidelines": [
          "구체적인 장소명 사용 (시/군/동 수준)",
          "정확한 나이 또는 기간 명시",
          "친근하고 담담한 톤으로 시작"
        ]
      },
      {
        "id": 2,
        "name": "상황_설명",
        "korean_name": "상황 설명 (과거 회상)",
        "length_ratio": 0.10,
        "purpose": "배경 설정, 좋았던 시절 회상",
        "must_include": ["과거의 좋은 기억", "함께했던 사람들", "당시 상황"],
        "example": "20년 전 이곳에 부임했을 때만 해도 작지만 온기가 있는 교회였습니다. 김권사님, 박권사님, 최권사님 세 분이 계셨거든요.",
        "guidelines": [
          "구체적인 인물 이름 사용",
          "각 인물의 특징적인 행동 묘사",
          "따뜻한 감정 전달"
        ]
      },
      {
        "id": 3,
        "name": "갈등_발생",
        "korean_name": "상실과 갈등 시작",
        "length_ratio": 0.20,
        "purpose": "문제 발생, 하나씩 무너지기 시작",
        "must_include": ["첫 번째 상실", "연쇄적인 문제들", "외부 환경 악화"],
        "example": "그런데 세월이 흐르면서 하나 둘씩 떠나기 시작했습니다. 김권사님은 87세에 하나님의 부르심을 받으셨고...",
        "guidelines": [
          "시간 순서대로 전개",
          "각 상실에 대한 감정 표현",
          "점점 어두워지는 분위기"
        ]
      },
      {
        "id": 4,
        "name": "갈등_심화",
        "korean_name": "고난의 심화",
        "length_ratio": 0.25,
        "purpose": "문제 악화, 시도와 실패, 고립감",
        "must_include": ["해결 시도", "실패 경험", "육체적/정신적 고통", "고립감"],
        "example": "어떻게든 전도를 해 보려고 했었습니다. 가끔 버스를 타고 시내에 나가서 전도지를 나눠 주곤 했습니다. 허리가 아파도 다리가 저려도...",
        "guidelines": [
          "구체적인 노력 묘사",
          "육체적 고통 표현 (허리, 다리, 무릎 등)",
          "거절당하는 장면",
          "혼자라는 느낌 강조"
        ]
      },
      {
        "id": 5,
        "name": "절망의_순간",
        "korean_name": "절망의 극대화",
        "length_ratio": 0.15,
        "purpose": "가장 어두운 순간, 포기 결심",
        "must_include": ["포기 결심", "가족과의 대화", "마지막 준비"],
        "example": "어느 날 밤 아내와 마주 앉아 조용히 이야기했습니다. '여보, 이제 그만해도 되지 않을까요?'",
        "guidelines": [
          "부부/가족 간 솔직한 대화",
          "눈물, 떨림 등 신체 반응",
          "마지막이라는 결심의 무게감",
          "마지막 예배/행사 준비 장면"
        ]
      },
      {
        "id": 6,
        "name": "하나님의_개입",
        "korean_name": "전환점 (기적의 순간)",
        "length_ratio": 0.15,
        "purpose": "예상치 못한 반전, 하나님의 개입",
        "must_include": ["예상치 못한 사건", "새로운 인물 등장", "극적인 반전"],
        "example": "그때였습니다. 분명히 들렸습니다. 교회 출입문이 끼익 소리를 내며 열리는 소리...",
        "guidelines": [
          "감각적 묘사 (소리, 시각)",
          "시간이 멈춘 듯한 순간",
          "새 인물의 사연 공개",
          "서로에게 필요한 존재였음 깨달음"
        ]
      },
      {
        "id": 7,
        "name": "회복과_깨달음",
        "korean_name": "새로운 시작과 메시지",
        "length_ratio": 0.10,
        "purpose": "회복, 변화, 시청자에게 메시지",
        "must_include": ["이후의 변화", "현재 상황", "깨달음", "시청자 CTA"],
        "example": "6개월이 지난 지금 우리 교회는 완전히 달라졌습니다... 여러분은 어떠신가요?",
        "guidelines": [
          "구체적인 변화 수치/사실",
          "감사의 기도",
          "보편적 메시지 전달",
          "좋아요/구독 유도"
        ]
      }
    ]
  },

  "dialogue_ratio": {
    "narration": 55,
    "description": "서술/나레이션 (55%)",
    "inner_monologue": 15,
    "inner_description": "내면 독백/생각 (15%)",
    "direct_dialogue": 30,
    "dialogue_description": "직접 대화 (30%)"
  },

  "detail_requirements": {
    "naming": {
      "style": "realistic_korean",
      "examples": ["이정수", "김태영", "박준호", "최권사", "김권사"],
      "format": "성+이름 (2-3자) 또는 성+직분(권사, 집사 등)",
      "min_count": 5
    },
    "ages": {
      "style": "exact_number",
      "examples": ["76세", "87세", "25살", "중학교 1학년"],
      "format": "숫자+세/살 또는 학년",
      "min_count": 3
    },
    "locations": {
      "style": "specific_real_sounding",
      "examples": ["강원도 원주시 금교동", "대전 둔산동", "서울 강남구"],
      "format": "시/도 + 시/군/구 + 동/읍/면",
      "min_count": 3
    },
    "amounts": {
      "style": "exact_numbers",
      "examples": ["15가구", "20년", "1년째", "6개월"],
      "format": "숫자 + 단위",
      "min_count": 10
    },
    "time_periods": {
      "style": "specific_timeframes",
      "examples": ["20년 전", "작년 겨울", "6개월이 지난 지금", "매주일 아침"],
      "min_count": 5
    }
  },

  "emotional_expressions": {
    "style": "direct_and_raw",
    "physical_reactions": [
      "눈물이 났습니다",
      "눈시울이 붉어진 채로",
      "손이 떨렸습니다",
      "목이 메었습니다",
      "가슴이 먹먹했습니다",
      "잠이 오지 않았습니다",
      "밥이 넘어가지 않았습니다"
    ],
    "emotional_states": [
      "마음이 무거웠습니다",
      "희망이 점점 작아졌습니다",
      "미안해졌습니다",
      "허무하게 들렸습니다",
      "믿기지 않았습니다"
    ],
    "guidelines": [
      "추상적 표현 대신 구체적 신체 반응",
      "감정을 직접적으로 표현",
      "반복을 통한 강조 허용"
    ]
  },

  "mandatory_elements": {
    "specific_numbers_count": 10,
    "character_names_count": 5,
    "location_names_count": 3,
    "family_reactions": true,
    "direct_dialogues": true,
    "physical_descriptions": true,
    "time_markers": true,
    "sensory_details": true
  },

  "forbidden_patterns": {
    "formatting": [
      "마크다운 기호 (#, *, -, **)",
      "이모지 사용",
      "번호 매기기 (1. 2. 3.)",
      "글머리 기호"
    ],
    "content": [
      "설교조의 일반적 교훈",
      "추상적인 신앙 고백만",
      "너무 빠른 해결",
      "비현실적인 기적",
      "캐릭터 일관성 부재"
    ],
    "style": [
      "~했다 (문어체) 대신 ~했습니다 (구어체) 사용",
      "딱딱한 문장",
      "감정 없는 사건 나열"
    ]
  },

  "number_expression_rules": {
    "description": "숫자 표현 규칙 - TTS가 자연스럽게 읽을 수 있도록",
    "tts_narration": {
      "rule": "모든 숫자는 한글로 표기",
      "reason": "TTS가 '112'를 '백십이'로 읽는 문제 방지",
      "examples": {
        "phone_numbers": {
          "wrong": "112, 119",
          "correct": "일일이, 일일구"
        },
        "ages": {
          "wrong": "76세, 87세",
          "correct": "일흔여섯 살, 여든일곱 살"
        },
        "years": {
          "wrong": "20년, 47년",
          "correct": "이십 년, 사십칠 년"
        },
        "counts": {
          "wrong": "3명, 15가구",
          "correct": "세 명, 열다섯 가구"
        },
        "dates": {
          "wrong": "2024년 3월 15일",
          "correct": "이천이십사 년 삼월 십오일"
        },
        "money": {
          "wrong": "50만원, 100만원",
          "correct": "오십만 원, 백만 원"
        }
      }
    },
    "subtitle_display": {
      "rule": "자막용 텍스트는 숫자로 표기 (별도 필드 사용)",
      "reason": "시청자 가독성을 위해 자막은 숫자가 더 읽기 쉬움",
      "format": "narration 필드와 별개로 subtitle 필드에 숫자 버전 저장"
    },
    "mandatory": true,
    "guidelines": [
      "나레이션(TTS용)은 반드시 모든 숫자를 한글로 표기",
      "전화번호는 각 숫자를 따로 읽음 (112 → 일일이)",
      "나이는 고유어 수사 권장 (76세 → 일흔여섯 살)",
      "연도는 한자어 수사 사용 (20년 → 이십 년)"
    ]
  },

  "honorific_rules": {
    "description": "60대 이상 인물 간 호칭 규칙 - 실제 한국 노년층 대화 반영",
    "target_age": "60세 이상",
    "core_principle": "60대 이상 인물들은 서로 이름을 직접 부르지 않음",
    "spouse_terms": {
      "description": "부부 사이 호칭",
      "husband_calls_wife": ["여보", "당신", "아이 엄마", "애들 엄마"],
      "wife_calls_husband": ["여보", "당신", "아이 아빠", "애들 아빠", "영감"],
      "forbidden": ["이름 직접 호칭 (예: '순자야', '영수야')"]
    },
    "family_terms": {
      "description": "가족 간 호칭",
      "to_children": ["아들아", "딸아", "큰애야", "막내야"],
      "to_parents": ["어머니", "아버지", "엄마", "아빠"],
      "to_siblings": ["형님", "누나", "동생", "언니", "오빠"],
      "to_in_laws": ["사돈", "사위", "며느리", "아주버님", "형님"]
    },
    "stranger_terms": {
      "description": "타인에 대한 호칭",
      "general": ["그분", "그 어르신", "저분", "그 사람"],
      "church_context": ["권사님", "집사님", "장로님", "목사님", "전도사님"],
      "community": ["이장님", "사장님", "선생님", "어르신"]
    },
    "name_usage_allowed": {
      "description": "이름 사용이 허용되는 경우",
      "cases": [
        "주인공 자기소개 시 (저는 OOO입니다)",
        "제3자에게 누군가를 설명할 때 (김영수 씨라는 분이...)",
        "나레이션에서 인물 설명 시",
        "과거 회상에서 젊었을 때 장면"
      ]
    },
    "forbidden_patterns": [
      "부부가 서로 이름 부르기 (순자야, 영수야)",
      "60대 이상끼리 이름으로 호칭",
      "대화 중 상대방 이름 직접 언급"
    ],
    "examples": {
      "wrong": [
        "\"순자야, 밥 먹었어?\"",
        "\"영수 씨, 어디 가세요?\""
      ],
      "correct": [
        "\"여보, 진지 드셨어요?\"",
        "\"당신, 어디 가시는 거예요?\"",
        "\"권사님, 어디 가세요?\""
      ]
    }
  },

  "quality_checklist": {
    "structure": [
      "7단계 구조를 따랐는가?",
      "각 단계별 비율이 적절한가?",
      "전환이 자연스러운가?"
    ],
    "details": [
      "구체적 숫자가 10개 이상인가?",
      "실제 같은 이름이 5개 이상인가?",
      "구체적 장소가 3개 이상인가?"
    ],
    "emotion": [
      "감정 곡선이 있는가? (희망→절망→희망)",
      "신체적 반응이 묘사되었는가?",
      "공감할 수 있는가?"
    ],
    "dialogue": [
      "직접 대화가 30% 정도인가?",
      "대화가 자연스러운가?",
      "각 인물의 말투가 구분되는가?"
    ]
  }
}
