"""
í•œêµ­ì‚¬ ìžë™í™” íŒŒì´í”„ë¼ì¸ ì„¤ì •

ì‹œëŒ€ íë¦„í˜• ì‹œë¦¬ì¦ˆë¥¼ ìœ„í•œ ì„¤ì • íŒŒì¼
- ê³ ì¡°ì„ ë¶€í„° ëŒ€í•œì œêµ­ê¹Œì§€ ì‹œëŒ€ë³„ íŠ¸ëž™ ì •ì˜
- ê° ì‹œëŒ€ë³„ ìˆ˜ì§‘ í‚¤ì›Œë“œ ê´€ë¦¬
- ì‹œíŠ¸ êµ¬ì¡° ë° ì œí•œ ì„¤ì •
"""

from typing import Dict, List, Any


# ============================================================
# ì‹œëŒ€ íŠ¸ëž™ ì„¤ì • (ìˆœì„œ ê³ ì •)
# ============================================================

# ì‹œëŒ€ ìˆœì„œ (ì˜ë¬¸ í‚¤ ì‚¬ìš©)
ERA_ORDER: List[str] = [
    "GOJOSEON",      # ê³ ì¡°ì„ 
    "BUYEO",         # ë¶€ì—¬/ì˜¥ì €/ë™ì˜ˆ
    "SAMGUK",        # ì‚¼êµ­ì‹œëŒ€
    "NAMBUK",        # ë‚¨ë¶êµ­ì‹œëŒ€
    "GORYEO",        # ê³ ë ¤
    "JOSEON_EARLY",  # ì¡°ì„  ì „ê¸°
    "JOSEON_LATE",   # ì¡°ì„  í›„ê¸°
    "DAEHAN",        # ëŒ€í•œì œêµ­
]

# ì‹œëŒ€ ë©”íƒ€ë°ì´í„°
ERAS: Dict[str, Dict[str, Any]] = {
    "GOJOSEON": {
        "name": "ê³ ì¡°ì„ ",
        "name_en": "Gojoseon",
        "period": "BC 2333 ~ BC 108",
        "description": "í•œë°˜ë„ ìµœì´ˆì˜ êµ­ê°€, ë‹¨êµ°ì¡°ì„ ê³¼ ìœ„ë§Œì¡°ì„ ",
        "active": True,  # ì²« ë²ˆì§¸ ì‹œëŒ€ë¶€í„° ì‹œìž‘
    },
    "BUYEO": {
        "name": "ë¶€ì—¬/ì˜¥ì €/ë™ì˜ˆ",
        "name_en": "Buyeo Period",
        "period": "BC 2ì„¸ê¸° ~ AD 494",
        "description": "ê³ ì¡°ì„  ë©¸ë§ í›„ ë“±ìž¥í•œ ì—¬ëŸ¬ ë‚˜ë¼",
        "active": False,
    },
    "SAMGUK": {
        "name": "ì‚¼êµ­ì‹œëŒ€",
        "name_en": "Three Kingdoms",
        "period": "BC 57 ~ AD 668",
        "description": "ê³ êµ¬ë ¤, ë°±ì œ, ì‹ ë¼ì˜ ê²½ìŸê³¼ ë°œì „",
        "active": False,
    },
    "NAMBUK": {
        "name": "ë‚¨ë¶êµ­ì‹œëŒ€",
        "name_en": "North-South States",
        "period": "AD 698 ~ AD 926",
        "description": "í†µì¼ì‹ ë¼ì™€ ë°œí•´ì˜ ë³‘ì¡´",
        "active": False,
    },
    "GORYEO": {
        "name": "ê³ ë ¤",
        "name_en": "Goryeo Dynasty",
        "period": "AD 918 ~ AD 1392",
        "description": "ì™•ê±´ì˜ ê±´êµ­ë¶€í„° ì¡°ì„  ê±´êµ­ê¹Œì§€",
        "active": False,
    },
    "JOSEON_EARLY": {
        "name": "ì¡°ì„  ì „ê¸°",
        "name_en": "Early Joseon",
        "period": "AD 1392 ~ AD 1592",
        "description": "ì¡°ì„  ê±´êµ­ë¶€í„° ìž„ì§„ì™œëž€ ì´ì „",
        "active": False,
    },
    "JOSEON_LATE": {
        "name": "ì¡°ì„  í›„ê¸°",
        "name_en": "Late Joseon",
        "period": "AD 1592 ~ AD 1897",
        "description": "ìž„ì§„ì™œëž€ ì´í›„ë¶€í„° ëŒ€í•œì œêµ­ ì„ í¬ ì´ì „",
        "active": False,
    },
    "DAEHAN": {
        "name": "ëŒ€í•œì œêµ­",
        "name_en": "Korean Empire",
        "period": "AD 1897 ~ AD 1910",
        "description": "ê·¼ëŒ€í™” ì‹œë„ì™€ êµ­ê¶Œ ìƒì‹¤",
        "active": False,
    },
}


# ============================================================
# ì‹œëŒ€ë³„ ìˆ˜ì§‘ í‚¤ì›Œë“œ
# ============================================================

ERA_KEYWORDS: Dict[str, Dict[str, List[str]]] = {
    "GOJOSEON": {
        "primary": [
            "ê³ ì¡°ì„ ", "ë‹¨êµ°", "ë‹¨êµ°ì™•ê²€", "ì•„ì‚¬ë‹¬", "ìœ„ë§Œì¡°ì„ ", "ìœ„ë§Œ",
            "ê¸°ìžì¡°ì„ ", "ì¡°ì„ ", "ìš”ë™", "ì™•ê²€ì„±", "ê³ ì¡°ì„  ë©¸ë§",
        ],
        "secondary": [
            "ì²­ë™ê¸°", "ë¹„íŒŒí˜•ë™ê²€", "ê³ ì¸ëŒ", "ë¯¸ì†¡ë¦¬ì‹í† ê¸°",
            "í•œì‚¬êµ°", "ë‚™ëž‘êµ°", "8ì¡°ë²•", "íŒ”ì¡°ë²•ê¸ˆ",
        ],
        "exclude": [
            "ë¶í•œ", "ê¹€ì •ì€", "ì¡°ì„ ì¼ë³´", "ì¡°ì„ ì‹œëŒ€",  # í˜„ëŒ€ ì¡°ì„  ê´€ë ¨ ì œì™¸
        ],
    },
    "BUYEO": {
        "primary": [
            "ë¶€ì—¬", "ë™ë¶€ì—¬", "ë¶ë¶€ì—¬", "ì˜¥ì €", "ë™ì˜ˆ", "ì‚¼í•œ",
            "ë§ˆí•œ", "ì§„í•œ", "ë³€í•œ", "ì˜ˆë§¥", "ì˜ê³ ", "ë™ë§¹", "ë¬´ì²œ",
        ],
        "secondary": [
            "ì² ê¸°ë¬¸í™”", "ìˆœìž¥", "í˜•ì‚¬ì·¨ìˆ˜", "1ì±…12ë²•", "ì œì²œí–‰ì‚¬",
            "ì†Œë„", "ì²œêµ°", "ë³„ì",
        ],
        "exclude": [],
    },
    "SAMGUK": {
        "primary": [
            "ê³ êµ¬ë ¤", "ë°±ì œ", "ì‹ ë¼", "ê°€ì•¼", "ì‚¼êµ­ì‹œëŒ€",
            "ê´‘ê°œí† ëŒ€ì™•", "ìž¥ìˆ˜ì™•", "ê·¼ì´ˆê³ ì™•", "ì§„í¥ì™•", "ë²•í¥ì™•",
            "ì„ì§€ë¬¸ë•", "ì‚´ìˆ˜ëŒ€ì²©", "ê³„ë°±", "ê¹€ìœ ì‹ ", "ì—°ê°œì†Œë¬¸",
        ],
        "secondary": [
            "ë¶ˆêµ ìˆ˜ìš©", "ì‚¼êµ­ì‚¬ê¸°", "ì‚¼êµ­ìœ ì‚¬", "ê³ ë¶„ë²½í™”",
            "ì²¨ì„±ëŒ€", "í™©ë£¡ì‚¬", "ë¬´ë ¹ì™•ë¦‰", "í˜¸ìš°ëª…ê·¸ë¦‡",
            "ë‚˜ì œë™ë§¹", "ì‚¼êµ­í†µì¼", "ë‹¹ë‚˜ë¼",
        ],
        "exclude": [],
    },
    "NAMBUK": {
        "primary": [
            "í†µì¼ì‹ ë¼", "ë°œí•´", "ë‚¨ë¶êµ­", "ëŒ€ì¡°ì˜", "ë¬´ì™•", "ë¬¸ì™•",
            "ì›ì„±ì™•", "ì‹ ë¬¸ì™•", "ê²½ë•ì™•", "í•´ë™ì„±êµ­",
        ],
        "secondary": [
            "9ì£¼5ì†Œê²½", "ê³¨í’ˆì œ", "ì„ ì¢…", "í™”ì—„ì¢…", "ì„êµ´ì•”", "ë¶ˆêµ­ì‚¬",
            "ìž¥ë³´ê³ ", "ì²­í•´ì§„", "í˜¸ì¡±", "6ë‘í’ˆ", "ì •í˜œìŒìˆ˜",
        ],
        "exclude": [],
    },
    "GORYEO": {
        "primary": [
            "ê³ ë ¤", "ì™•ê±´", "ê´‘ì¢…", "ì„±ì¢…", "í˜„ì¢…", "ë¬¸ì¢…",
            "ê³µë¯¼ì™•", "ë¬´ì‹ ì •ê¶Œ", "ìµœì¶©í—Œ", "ì‚¼ë³„ì´ˆ",
            "ëª½ê³¨ì¹¨ìž…", "ì›ê°„ì„­ê¸°", "ê¶Œë¬¸ì„¸ì¡±",
        ],
        "secondary": [
            "ê³¼ê±°ì œë„", "íŒ”ë§ŒëŒ€ìž¥ê²½", "ì§ì§€ì‹¬ì²´ìš”ì ˆ", "ê³ ë ¤ì²­ìž",
            "ìƒê°ì²­ìž", "ê°œê²½", "ë²½ëž€ë„", "ëŒ€ëª½í•­ìŸ",
            "ì‚¼êµ­ì‚¬ê¸°", "ì‚¼êµ­ìœ ì‚¬", "ë¬˜ì²­ì˜ ë‚œ",
        ],
        "exclude": [],
    },
    "JOSEON_EARLY": {
        "primary": [
            "ì¡°ì„  ê±´êµ­", "ì´ì„±ê³„", "íƒœì¡°", "íƒœì¢…", "ì„¸ì¢…ëŒ€ì™•",
            "ì„¸ì¡°", "ì„±ì¢…", "ì—°ì‚°êµ°", "ì¤‘ì¢…", "ëª…ì¢…",
            "í›ˆë¯¼ì •ìŒ", "ì§‘í˜„ì „", "ê²½êµ­ëŒ€ì „",
        ],
        "secondary": [
            "ì‚¬ë¦¼", "í›ˆêµ¬", "ì‚¬í™”", "ë¬´ì˜¤ì‚¬í™”", "ê°‘ìžì‚¬í™”", "ê¸°ë¬˜ì‚¬í™”",
            "ì„ì‚¬ì‚¬í™”", "í–¥ì•½", "ì„œì›", "ì„±ë¦¬í•™", "ì¡°ê´‘ì¡°",
            "ê²½ë³µê¶", "ì°½ë•ê¶", "í•œì–‘",
        ],
        "exclude": [],
    },
    "JOSEON_LATE": {
        "primary": [
            "ìž„ì§„ì™œëž€", "ì •ìœ ìž¬ëž€", "ë³‘ìží˜¸ëž€", "ì¸ì¡°ë°˜ì •",
            "ì˜ì¡°", "ì •ì¡°", "ì‹¤í•™", "ì •ì•½ìš©", "ê¹€ì •í¬",
            "ì„¸ë„ì •ì¹˜", "í¥ì„ ëŒ€ì›êµ°", "ê°œí™”", "ê°•í™”ë„ì¡°ì•½",
        ],
        "secondary": [
            "ì´ìˆœì‹ ", "ê±°ë¶ì„ ", "í•œì‚°ë„ëŒ€ì²©", "ëª…ëŸ‰í•´ì „",
            "íƒ•í‰ì±…", "ê·œìž¥ê°", "ìˆ˜ì›í™”ì„±", "ì²œì£¼êµ ë°•í•´",
            "ë™í•™", "ê°‘ì˜¤ê°œí˜", "ì„ë¯¸ì‚¬ë³€",
        ],
        "exclude": [],
    },
    "DAEHAN": {
        "primary": [
            "ëŒ€í•œì œêµ­", "ê´‘ë¬´ê°œí˜", "ê³ ì¢…", "ìˆœì¢…",
            "ì„ì‚¬ì¡°ì•½", "í—¤ì´ê·¸ íŠ¹ì‚¬", "êµ°ëŒ€ í•´ì‚°",
            "ì•ˆì¤‘ê·¼", "ì˜ë³‘", "êµ­ê¶Œí”¼íƒˆ", "ê²½ìˆ êµ­ì¹˜",
        ],
        "secondary": [
            "ë…ë¦½í˜‘íšŒ", "ë§Œë¯¼ê³µë™íšŒ", "ëŒ€í•œë§¤ì¼ì‹ ë³´", "í™©ì„±ì‹ ë¬¸",
            "ì‹ ë¯¼íšŒ", "ì• êµ­ê³„ëª½ìš´ë™", "ê·¼ëŒ€í™”", "ì² ë„", "ì „ê¸°",
            "ì´í†  ížˆë¡œë¶€ë¯¸", "í†µê°ë¶€", "ì¼ì œê°•ì ",
        ],
        "exclude": [],
    },
}


# ============================================================
# ìˆ˜ì§‘ ì†ŒìŠ¤ ì„¤ì • (ë‰´ìŠ¤ê°€ ì•„ë‹Œ ì „ë¬¸ ìžë£Œ)
# ============================================================

SOURCE_TYPES = {
    "university": {
        "name": "ëŒ€í•™ ì—°êµ¬",
        "weight": 2.0,  # ì‹ ë¢°ë„ ê°€ì¤‘ì¹˜
    },
    "museum": {
        "name": "ë°•ë¬¼ê´€/ë¬¸í™”ìž¬ì²­",
        "weight": 2.0,
    },
    "journal": {
        "name": "í•™ìˆ ì§€/ë…¼ë¬¸",
        "weight": 1.8,
    },
    "long_form": {
        "name": "ì „ë¬¸ ì¹¼ëŸ¼/ë¶„ì„",
        "weight": 1.5,
    },
    "encyclopedia": {
        "name": "ë°±ê³¼ì‚¬ì „/ìœ„í‚¤",
        "weight": 1.0,
    },
}

# ê²€ìƒ‰ ì¿¼ë¦¬ í…œí”Œë¦¿ (Google Custom Searchìš©)
SEARCH_QUERY_TEMPLATES = [
    "{era_name} ì—­ì‚¬",
    "{era_name} ì—°êµ¬",
    "{era_name} ìœ ë¬¼ ë°œêµ´",
    "{era_name} ë¬¸í™”ìž¬",
    "{keyword} ì—­ì‚¬ì  ì˜ì˜",
    "{keyword} ì—°êµ¬ ë…¼ë¬¸",
]


# ============================================================
# Google Sheets ì‹œíŠ¸ êµ¬ì¡°
# ============================================================

# ì‹œëŒ€ë³„ ì‹œíŠ¸ ì ‘ë‘ì‚¬ (ì‹œëŒ€ í‚¤ì™€ ì¡°í•©)
# RAW/CANDIDATESëŠ” ì‹œëŒ€ë³„ë¡œ ë¶„ë¦¬
SHEET_PREFIXES = {
    "RAW": "ì›ë¬¸ ìˆ˜ì§‘ ë°ì´í„°",
    "CANDIDATES": "ì ìˆ˜í™”ëœ í›„ë³´",
    "ARCHIVE": "ì•„ì¹´ì´ë¸Œ",
}

# OPUS ìž…ë ¥ì€ ë‹¨ì¼ í†µí•© ì‹œíŠ¸ (ì‹œëŒ€ ë¬´ê´€í•˜ê²Œ ëˆ„ì )
HISTORY_OPUS_INPUT_SHEET = "HISTORY_OPUS_INPUT"

# ê° ì‹œíŠ¸ì˜ í—¤ë” ì •ì˜
SHEET_HEADERS = {
    "RAW": [
        "collected_at",      # ìˆ˜ì§‘ ì‹œê°„ (ISO)
        "era",               # ì‹œëŒ€ í‚¤
        "source_type",       # university/museum/journal/long_form
        "source_name",       # ì¶œì²˜ëª…
        "title",             # ìžë£Œ ì œëª©
        "url",               # URL
        "content_summary",   # ë‚´ìš© ìš”ì•½
        "keywords",          # ê°ì§€ëœ í‚¤ì›Œë“œ
        "hash",              # ì¤‘ë³µ ë°©ì§€ìš© í•´ì‹œ
    ],
    "CANDIDATES": [
        "run_id",            # ì‹¤í–‰ ë‚ ì§œ (YYYY-MM-DD)
        "rank",              # ìˆœìœ„
        "era",               # ì‹œëŒ€
        "topic",             # ì£¼ì œ ë¶„ë¥˜
        "score_total",       # ì´ì 
        "score_relevance",   # ê´€ë ¨ë„
        "score_quality",     # ìžë£Œ í’ˆì§ˆ
        "score_freshness",   # ì‹ ì„ ë„ (ë°œêµ´/ì—°êµ¬ ìµœì‹ ì„±)
        "title",             # ì œëª©
        "url",               # URL
        "summary",           # ìš”ì•½
        "why_selected",      # ì„ ì • ê·¼ê±°
    ],
    # HISTORY_OPUS_INPUT (ë‹¨ì¼ í†µí•© ì‹œíŠ¸) í—¤ë”
    "OPUS_INPUT": [
        "run_date",          # ì‹¤í–‰ ë‚ ì§œ (YYYY-MM-DD)
        "era",               # ì‹œëŒ€ í‚¤ â˜… Idempotency ì²´í¬ìš©
        "era_name",          # ì‹œëŒ€ í•œê¸€ëª…
        "title",             # ìžë£Œ ì œëª©
        "source_url",        # ì¶œì²˜ URL
        "materials_pack",    # ìžë£Œ ë°œì·Œ/ìš”ì•½ ë¬¶ìŒ (í•µì‹¬í¬ì¸íŠ¸ í¬í•¨)
        "opus_prompt_pack",  # â˜… Opusì— ë¶™ì—¬ë„£ì„ ì™„ì œí’ˆ (í•œ ì…€ ë³µë¶™)
        "status",            # PENDING/DONE
        "created_at",        # ìƒì„± ì‹œê°„ (ISO)
    ],
}


# ============================================================
# ì‹œíŠ¸ ì œí•œ ì„¤ì •
# ============================================================

# ì‹œíŠ¸ í–‰ ì œí•œ
MAX_ROWS_PER_SHEET = 3000

# ì•„ì¹´ì´ë¸Œ íŠ¸ë¦¬ê±° (ì´ ë¹„ìœ¨ ì´ˆê³¼ ì‹œ ì•„ì¹´ì´ë¸Œ)
ARCHIVE_THRESHOLD_RATIO = 0.9  # 90% = 2700í–‰

# ì•„ì¹´ì´ë¸Œ ì‹œ ìœ ì§€í•  ìµœì‹  í–‰ ìˆ˜
ROWS_TO_KEEP_AFTER_ARCHIVE = 500


# ============================================================
# ì ìˆ˜í™” ì„¤ì •
# ============================================================

# ê´€ë ¨ë„ ì ìˆ˜ ê°€ì¤‘ì¹˜
RELEVANCE_WEIGHTS = {
    "primary_keyword_in_title": 5,   # ì œëª©ì— ì£¼ìš” í‚¤ì›Œë“œ
    "primary_keyword_in_content": 2, # ë‚´ìš©ì— ì£¼ìš” í‚¤ì›Œë“œ
    "secondary_keyword": 1,          # ë³´ì¡° í‚¤ì›Œë“œ
}

# ìžë£Œ í’ˆì§ˆ ì ìˆ˜
QUALITY_WEIGHTS = {
    "university": 10,
    "museum": 10,
    "journal": 8,
    "long_form": 5,
    "encyclopedia": 3,
}

# TOP K ì„ ì • ìˆ˜
DEFAULT_TOP_K = 5


# ============================================================
# LLM ì„¤ì •
# ============================================================

# LLM ì‚¬ìš© ì—¬ë¶€ (í™˜ê²½ë³€ìˆ˜ë¡œ ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥)
LLM_ENABLED_DEFAULT = False

# LLM í˜¸ì¶œ ìµœì†Œ ì ìˆ˜ (ë¹„ìš© ì ˆê°)
LLM_MIN_SCORE_DEFAULT = 0

# ê¸°ë³¸ ëª¨ë¸
LLM_MODEL_DEFAULT = "gpt-4o-mini"


# ============================================================
# ëŒ€ë³¸ ë¶„ëŸ‰ ì„¤ì • (ë¬¸ìžìˆ˜ ê¸°ì¤€)
# ============================================================

# 15~20ë¶„ ë¶„ëŸ‰ = 6,000~8,000ìž (í•œêµ­ì–´ TTS ê¸°ì¤€ ì•½ 350~400ìž/ë¶„)
SCRIPT_LEN_MIN = 6000
SCRIPT_LEN_MAX = 8000
SCRIPT_DURATION_MIN = 15  # ë¶„
SCRIPT_DURATION_MAX = 20  # ë¶„


# ============================================================
# í•œêµ­ì‚¬ ì „ìš© ëŒ€ë³¸ ì§€ì‹œë¬¸ í…œí”Œë¦¿
# ============================================================

SCRIPT_BRIEF_TEMPLATE = """[OPUS SCRIPT BRIEF]

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ðŸ“Œ ë¶„ëŸ‰ (í•„ìˆ˜)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- ì‹œê°„: 15~20ë¶„
- ë¬¸ìžìˆ˜: 6,000~8,000ìž (í•œêµ­ì–´ ê¸°ì¤€) â† ë°˜ë“œì‹œ ì¤€ìˆ˜
- TTS ì†ë„: ì•½ 350~400ìž/ë¶„

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ðŸ“Œ í†¤
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- ì°¨ë¶„í•˜ê³  ë‹´ë‹´í•œ ë‹¤íë©˜í„°ë¦¬ í†¤
- ì¸ë¬¼ ì¤‘ì‹¬ ìŠ¤í† ë¦¬í…”ë§
- ì§§ì€ ë¬¸ìž¥ (1ë¬¸ìž¥ 40ìž ì´ë‚´)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ðŸš« ê¸ˆì§€
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
- ì—°ë„/ì‚¬ê±´ ë‚˜ì—´ì‹ ì„¤ëª…
- êµê³¼ì„œ ë¬¸ì²´
- ë¯¼ì¡±ì£¼ì˜/êµ­ë½• í‘œí˜„ ("ìœ„ëŒ€í•œ", "ì°¬ëž€í•œ", "ìžëž‘ìŠ¤ëŸ¬ìš´")
- ì¤‘ê°„ìš”ì•½ ("ì •ë¦¬í•˜ë©´", "í•µì‹¬ì€", "ê²°ë¡ ì ìœ¼ë¡œ", "ì¦‰")
- í›ˆê³„í˜• ë§ˆë¬´ë¦¬ ("~í•´ì•¼ í•©ë‹ˆë‹¤", "~ë¥¼ ê¸°ì–µí•©ì‹œë‹¤")
- ì‹œì²­ìž ì§ì ‘ í˜¸ì¹­ ("ì—¬ëŸ¬ë¶„", "ìš°ë¦¬ ëª¨ë‘")

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš ï¸ ê°•ì œ ê·œì¹™: 60% ë¶„ê¸°ì 
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[0% ~ 60%] ì „ë°˜ë¶€ (ì•½ 4,000ìž)
âœ… í—ˆìš©: ì‚¬ì‹¤, ë§¥ë½, ì¸ê³¼, ê°œë… ì„¤ëª…
âŒ ê¸ˆì§€: í–‰ë™, ê°ì •, ê³µê° ë©˜íŠ¸, ìƒí™œ ìž¥ë©´ ë¬˜ì‚¬

[60% ~ 90%] í›„ë°˜ë¶€ (ì•½ 2,500ìž)
âœ… í—ˆìš©: í–‰ë™, ëŠë‚Œ, ìƒí™œ ìž¥ë©´
âœ… ìŠ¤í† ë¦¬í…”ë§ ê°•í™”, ì¸ë¬¼ ì‹¬ë¦¬ ë¬˜ì‚¬ ê°€ëŠ¥
âŒ ê¸ˆì§€: ê³¼ìž¥, ë¯¸í™”

[90% ~ 100%] ì—”ë”© (ì•½ 500ìž)
âœ… ë‹¤ìŒ ì‹œëŒ€ë¡œ ì—°ê²°ë˜ëŠ” ì§ˆë¬¸ìœ¼ë¡œ ëë‚´ê¸°
âœ… ë‹¤ìŒ ì˜ìƒ ì˜ˆê³  í•œ ì¤„
âŒ ê¸ˆì§€: ê°‘ìžê¸° í›ˆí›ˆí•´ì§€ê±°ë‚˜ ì°©í•´ì§€ëŠ” ê²°ë¡ 
"""


# ============================================================
# ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
# ============================================================

def get_era_sheet_name(prefix: str, era: str) -> str:
    """ì‹œëŒ€ë³„ ì‹œíŠ¸ ì´ë¦„ ìƒì„±"""
    return f"{era}_{prefix}"


def get_archive_sheet_name(era: str, year: int) -> str:
    """ì•„ì¹´ì´ë¸Œ ì‹œíŠ¸ ì´ë¦„ ìƒì„±"""
    return f"{era}_ARCHIVE_{year}"


def get_active_eras() -> List[str]:
    """í™œì„±í™”ëœ ì‹œëŒ€ ëª©ë¡ ë°˜í™˜"""
    return [era for era in ERA_ORDER if ERAS.get(era, {}).get("active", False)]


def get_era_keywords(era: str) -> Dict[str, List[str]]:
    """ì‹œëŒ€ë³„ í‚¤ì›Œë“œ ë°˜í™˜"""
    return ERA_KEYWORDS.get(era, {"primary": [], "secondary": [], "exclude": []})
