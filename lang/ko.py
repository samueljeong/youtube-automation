# -*- coding: utf-8 -*-
"""
í•œêµ­ì–´ ì„¤ì • íŒŒì¼

í˜„ì¬ drama_server.pyì— í©ì–´ì ¸ ìˆëŠ” í•œêµ­ì–´ ê´€ë ¨ ì„¤ì •ì„ ëª¨ì•„ë‘ .
TODO: drama_server.pyì—ì„œ ì´ íŒŒì¼ì˜ ì„¤ì •ì„ importí•˜ë„ë¡ ë³€ê²½ í•„ìš”

ì°¸ê³ : ì•„ë˜ ë¼ì¸ ë²ˆí˜¸ëŠ” í˜„ì¬ drama_server.py ê¸°ì¤€ì´ë©°, ì¶”í›„ ë¦¬íŒ©í† ë§ ì‹œ ì°¸ê³ ìš©
"""

# =============================================================================
# 1. ì–¸ì–´ ê¸°ë³¸ ì •ë³´
# =============================================================================
LANG_CODE = 'ko'
LANG_NAME = 'Korean'
LANG_NATIVE = 'í•œêµ­ì–´'

# ì–¸ì–´ ê°ì§€ íŒ¨í„´ (ìœ ë‹ˆì½”ë“œ ë²”ìœ„)
# ì‚¬ìš©ì²˜: drama_server.py 11204í–‰, 12849í–‰, 18794í–‰, 21216í–‰
DETECTION_PATTERN = r'[ê°€-í£]'  # í•œê¸€ ì™„ì„±í˜•


# =============================================================================
# 2. ìœ íŠœë¸Œ ë©”íƒ€ë°ì´í„° ìƒì„± ì§€ì¹¨
# =============================================================================

# -----------------------------------------------------------------------------
# 2-1. ì œëª© ê·œì¹™
# -----------------------------------------------------------------------------
# ì‚¬ìš©ì²˜: drama_server.py 11688í–‰
YOUTUBE_TITLE = {
    'min_length': 18,           # ìµœì†Œ ê¸€ììˆ˜
    'max_length': 32,           # ìµœëŒ€ ê¸€ììˆ˜ (ê³µë°± í¬í•¨)
    'must_include_number': True,  # ìˆ«ì 1ê°œ ì´ìƒ í•„ìˆ˜ (ì—°ë„, ê°œìˆ˜, ê¸°ê°„, ê¸ˆì•¡ ë“±)

    # ê¸ˆì§€ ë‹¨ì–´
    'banned_words': [
        'êµ¬ë…', 'ì¢‹ì•„ìš”', 'í´ë¦­', 'ìœ íŠœë¸Œ',  # ê´‘ê³ ì„±
        'ì¶©ê²©', 'ê²½ì•…', 'ì‹¤í™”',              # ê³¼ì¥
    ],

    # ì œëª© ìŠ¤íƒ€ì¼ë³„ í…œí”Œë¦¿
    'styles': {
        'curiosity': '{hook}... {reveal}',           # í˜¸ê¸°ì‹¬ ìœ ë°œ
        'number': '{number}ê°€ì§€ {topic}',            # ìˆ«ì ê°•ì¡°
        'question': '{topic}, ì™œ {question}?',       # ì§ˆë¬¸í˜•
        'contrast': '{before} vs {after}',           # ëŒ€ë¹„
    },
}

# -----------------------------------------------------------------------------
# 2-2. ì„¤ëª…ë€ ê·œì¹™
# -----------------------------------------------------------------------------
# ì‚¬ìš©ì²˜: drama_server.py 11764í–‰
YOUTUBE_DESCRIPTION = {
    'min_length': 600,          # ìµœì†Œ ê¸€ììˆ˜
    'max_length': 1200,         # ìµœëŒ€ ê¸€ììˆ˜
    'paragraph_count': (3, 6),  # ë¬¸ë‹¨ ìˆ˜ (ìµœì†Œ, ìµœëŒ€)

    # ì„¤ëª…ë€ êµ¬ì¡° í…œí”Œë¦¿
    'structure': [
        '{hook}',               # 1. í›„í‚¹ ë¬¸ì¥ (1-2ì¤„)
        '',                     # ë¹ˆ ì¤„
        '{summary}',            # 2. ì˜ìƒ ìš”ì•½ (3-5ì¤„)
        '',                     # ë¹ˆ ì¤„
        '{chapters}',           # 3. ì±•í„° (ì„ íƒ)
        '',                     # ë¹ˆ ì¤„
        '{cta}',                # 4. CTA
        '',                     # ë¹ˆ ì¤„
        '{hashtags}',           # 5. í•´ì‹œíƒœê·¸
    ],

    # CTA ë¬¸êµ¬
    'cta_templates': [
        'ğŸ‘ ì´ ì˜ìƒì´ ë„ì›€ì´ ë˜ì…¨ë‹¤ë©´ ì¢‹ì•„ìš”ì™€ êµ¬ë… ë¶€íƒë“œë¦½ë‹ˆë‹¤!',
        'ğŸ“Œ êµ¬ë…ê³¼ ì¢‹ì•„ìš”, ì•Œë¦¼ ì„¤ì • ë¶€íƒë“œë¦½ë‹ˆë‹¤!',
        'ğŸ™ ì˜ìƒì´ ë„ì›€ì´ ë˜ì…¨ë‹¤ë©´ ëŒ“ê¸€ë¡œ ì˜ê²¬ì„ ë‚˜ëˆ ì£¼ì„¸ìš”.',
    ],
}

# -----------------------------------------------------------------------------
# 2-3. íƒœê·¸ ê·œì¹™
# -----------------------------------------------------------------------------
# ì‚¬ìš©ì²˜: drama_server.py 2719-2724í–‰, 2850-2853í–‰
YOUTUBE_TAGS = {
    'count': (10, 20),          # íƒœê·¸ ê°œìˆ˜ (ìµœì†Œ, ìµœëŒ€)

    # í•„ìˆ˜ íƒœê·¸ (í•­ìƒ í¬í•¨)
    'required': [
        'ì˜›ë‚ ì´ì•¼ê¸°', 'ê·¸ì‹œì ˆ', 'í–¥ìˆ˜', 'ì‹œë‹ˆì–´ìœ íŠœë¸Œ',
        'ì¶”ì–µ', 'íšŒìƒ', '70ë…„ëŒ€', '80ë…„ëŒ€', 'ì˜›í’ê²½', 'í¸ì•ˆí•œì˜ìƒ',
    ],

    # ì¹´í…Œê³ ë¦¬ë³„ ì¶”ê°€ íƒœê·¸
    'by_category': {
        'testimony': ['ì‹ ì•™ê°„ì¦', 'ê¸°ë„ì‘ë‹µ', 'ì€í˜œê°„ì¦', 'ê°ë™ê°„ì¦', 'êµíšŒì´ì•¼ê¸°'],
        'drama': ['ê°ë™ì˜ìƒ', 'íë§', 'ì¶”ì–µ', 'ê°€ì¡±ì´ì•¼ê¸°', 'ì¸ìƒë“œë¼ë§ˆ'],
        'news': ['ë‰´ìŠ¤', 'ì‹œì‚¬', 'ì •ì¹˜', 'ê²½ì œ', 'ì‚¬íšŒ'],
        'health': ['ê±´ê°•', 'ì˜ë£Œ', 'ì‹œë‹ˆì–´ê±´ê°•', 'ê±´ê°•ì •ë³´'],
    },

    # ê¸ˆì§€ íƒœê·¸
    'banned': ['ê´‘ê³ ', 'í˜‘ì°¬', 'ìœ ë£Œê´‘ê³ '],
}

# -----------------------------------------------------------------------------
# 2-4. ê³ ì • ëŒ“ê¸€ ê·œì¹™
# -----------------------------------------------------------------------------
# ì‚¬ìš©ì²˜: drama_server.py 2687í–‰, 21022-21024í–‰
YOUTUBE_PIN_COMMENT = {
    # ëŒ“ê¸€ í…œí”Œë¦¿
    'templates': [
        'ëŒ“ê¸€ë¡œ ê·¸ ì‹œì ˆì˜ ì´ì•¼ê¸°ë„ ë“¤ë ¤ì£¼ì„¸ìš”.',
        'ì—¬ëŸ¬ë¶„ì˜ ì´ì•¼ê¸°ë„ ë“¤ë ¤ì£¼ì„¸ìš”. ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ ë‹¤ìŒ ì˜ìƒì— ì°¸ê³ í•˜ê² ìŠµë‹ˆë‹¤!',
        'ë¹„ìŠ·í•œ ê²½í—˜ì´ ìˆìœ¼ì‹  ë¶„ë“¤ì€ ëŒ“ê¸€ë¡œ ê³µìœ í•´ì£¼ì„¸ìš”.',
    ],

    # CTA í‚¤ì›Œë“œ
    'cta_keywords': ['êµ¬ë…', 'ì¢‹ì•„ìš”', 'ì•Œë¦¼', 'ëŒ“ê¸€'],
}

# -----------------------------------------------------------------------------
# 2-5. í•´ì‹œíƒœê·¸ ê·œì¹™
# -----------------------------------------------------------------------------
YOUTUBE_HASHTAGS = {
    'count': (3, 5),            # í•´ì‹œíƒœê·¸ ê°œìˆ˜ (ì„¤ëª…ë€ ìƒë‹¨)
    'max_length': 20,           # í•´ì‹œíƒœê·¸ ìµœëŒ€ ê¸¸ì´

    # ê¸°ë³¸ í•´ì‹œíƒœê·¸
    'default': ['#ì‹œë‹ˆì–´', '#ì¶”ì–µ', '#ê·¸ì‹œì ˆ'],
}


# =============================================================================
# 3. ìë§‰ ì„¤ì •
# =============================================================================
# â˜…â˜…â˜… í•µì‹¬ ì„¤ì •: ìë§‰ì´ ë„ˆë¬´ ê¸¸ê²Œ ë‚˜ì˜¤ëŠ” ë¬¸ì œì˜ ì›ì¸ â˜…â˜…â˜…
# ì‚¬ìš©ì²˜: drama_server.py 13365í–‰, 13419í–‰

SUBTITLE = {
    # ìë§‰ ê¸¸ì´ ì„¤ì •
    'max_chars_per_line': 26,   # í•œ ì¤„ ìµœëŒ€ ê¸€ì ìˆ˜ (20â†’26 í™•ì¥)
    'max_lines': 2,             # ìµœëŒ€ ì¤„ ìˆ˜
    'max_chars_total': 52,      # ì´ ìµœëŒ€ ê¸€ì ìˆ˜ (26 * 2)

    # ìë§‰ íƒ€ì´ë°
    'min_duration': 1.0,        # ìµœì†Œ í‘œì‹œ ì‹œê°„ (ì´ˆ)
    'max_duration': 5.0,        # ìµœëŒ€ í‘œì‹œ ì‹œê°„ (ì´ˆ)
    'chars_per_second': 8,      # ì´ˆë‹¹ ê¸€ì ìˆ˜ (ì½ëŠ” ì†ë„)

    # â˜… ì²­í‚¹ ì„¤ì • (ë¬¸ì¥ì„ ì§§ì€ ìë§‰ ë‹¨ìœ„ë¡œ ë¶„ë¦¬)
    'chunking': {
        'enabled': True,            # ì²­í‚¹ í™œì„±í™”
        'min_chars': 10,            # ì²­í¬ ìµœì†Œ ê¸€ì ìˆ˜ (8â†’10)
        'max_chars': 35,            # ì²­í¬ ìµœëŒ€ ê¸€ì ìˆ˜ (20â†’35, ë” ìì—°ìŠ¤ëŸ¬ìš´ ë¬¸ì¥ ë‹¨ìœ„)
        'min_last_line_chars': 10,  # ë§ˆì§€ë§‰ ì¤„ ìµœì†Œ ê¸€ì (ì§§ìœ¼ë©´ ì´ì „ ì¤„ê³¼ í•©ì¹¨)
    },

    # ìë§‰ ìŠ¤íƒ€ì¼ (ASS í˜•ì‹)
    'style': {
        'font_name': 'NanumSquareRound',   # í°íŠ¸
        'font_size': 28,                    # í¬ê¸°
        'font_size_burn': 48,               # ì˜ìƒ burn-inìš© í° í°íŠ¸ (50ëŒ€+ ê°€ë…ì„±)
        'primary_color': '&H00FFFF',        # ë…¸ë€ìƒ‰ (BGR)
        'outline_color': '&H00000000',      # ê²€ì€ìƒ‰ í…Œë‘ë¦¬
        'back_color': '&H80000000',         # ë°˜íˆ¬ëª… ê²€ì€ ë°°ê²½
        'border_style': 1,                  # í…Œë‘ë¦¬ + ê·¸ë¦¼ì
        'outline': 4,                       # í…Œë‘ë¦¬ ë‘ê»˜
        'shadow': 2,                        # ê·¸ë¦¼ì
        'margin_v': 40,                     # í•˜ë‹¨ ì—¬ë°±
        'bold': 1,                          # ë³¼ë“œ
    },

    # ì²­í‚¹ ë¶„í•  ê¸°ì¤€ (ìš°ì„ ìˆœìœ„ ìˆœ)
    'split_patterns': [
        # 1ìˆœìœ„: ë¬¸ì¥ ì¢…ë£Œ
        '.', '?', '!',
        # 2ìˆœìœ„: ì‰¼í‘œ
        ',',
        # 3ìˆœìœ„: ì—°ê²°ì–´ë¯¸ (ìì—°ìŠ¤ëŸ¬ìš´ ëŠê¹€)
        '~ê³  ', '~ë©° ', '~ë©´ ', '~ì„œ ', '~ë‹ˆ ', '~ëŠ”ë° ',
        '~ì§€ë§Œ ', '~ìœ¼ë©´ ', '~ì–´ì„œ ', '~ë‹ˆê¹Œ ', '~ë¼ì„œ ',
        # 4ìˆœìœ„: ì¡°ì‚¬ ë’¤ ê³µë°± (ì˜ë¯¸ ë‹¨ìœ„)
        'ì€ ', 'ëŠ” ', 'ì´ ', 'ê°€ ', 'ì„ ', 'ë¥¼ ',
        'ì— ', 'ì—ì„œ ', 'ìœ¼ë¡œ ', 'ë¡œ ',
    ],

    # ë¬¸ì¥ ì¢…ë£Œ íŒ¨í„´
    'end_patterns': [
        'ë‹¤.', 'ìš”.', 'ì£ .', 'ë„¤ìš”.', 'ë‹ˆë‹¤.',
        'ê¹Œìš”?', 'ë‚˜ìš”?', '!', '?', '...',
    ],
}


def get_subtitle_ass_style():
    """ASS ìë§‰ ìŠ¤íƒ€ì¼ ë¬¸ìì—´ ë°˜í™˜ (FFmpegì—ì„œ ì§ì ‘ ì‚¬ìš©)"""
    s = SUBTITLE['style']
    return (
        f"FontName={s['font_name']},FontSize={s['font_size']},"
        f"PrimaryColour={s['primary_color']},"
        f"OutlineColour={s['outline_color']},BackColour={s['back_color']},"
        f"BorderStyle={s['border_style']},Outline={s['outline']},"
        f"Shadow={s['shadow']},MarginV={s['margin_v']},Bold={s['bold']}"
    )


# =============================================================================
# 4. TTS ìŒì„± ì„¤ì •
# =============================================================================
# ì‚¬ìš©ì²˜: drama_server.py 4557í–‰, 4933í–‰, 12863í–‰, 13279í–‰, 17169í–‰, 21098í–‰, 22128í–‰

TTS = {
    'language_code': 'ko-KR',

    # ìŒì„± ì„ íƒ
    'voices': {
        'male': 'ko-KR-Neural2-C',      # ë‚¨ì„± (ê³ í’ˆì§ˆ)
        'female': 'ko-KR-Neural2-A',    # ì—¬ì„± (ê³ í’ˆì§ˆ)
    },
    'default_voice': 'gemini:pro:Charon',  # ê¸°ë³¸: Gemini Pro ë‚¨ì„± (ê¹Šê³  ì‹ ë¢°ê° ìˆëŠ” í†¤)
    'fallback_voice': 'ko-KR-Neural2-C', # ëŒ€ì²´ ìŒì„± (Gemini ì‹¤íŒ¨ ì‹œ)

    # Gemini TTS ìŒì„± (2025ë…„ ì‹ ê·œ) - "gemini:ìŒì„±ëª…" í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©
    # ì‚¬ìš©ë²•: Google Sheets ìŒì„± ì—´ì— "gemini:Kore" ì…ë ¥
    'gemini_voices': {
        'Kore': 'ì—¬ì„±, ì°¨ë¶„í•˜ê³  ë”°ëœ»í•œ í†¤',
        'Charon': 'ë‚¨ì„±, ê¹Šê³  ì‹ ë¢°ê° ìˆëŠ” í†¤',
        'Puck': 'ë‚¨ì„±, í™œê¸°ì°¨ê³  ì¹œê·¼í•œ í†¤',
        'Fenrir': 'ë‚¨ì„±, í˜ìˆê³  ì›…ì¥í•œ í†¤',
        'Aoede': 'ì—¬ì„±, ë¶€ë“œëŸ½ê³  ê°ì„±ì ì¸ í†¤',
    },
    'gemini_default_voice': 'Charon',  # Gemini ê¸°ë³¸ ìŒì„±

    # ìŒì„± ì„¤ì •
    'speaking_rate': 0.9,       # ë§í•˜ê¸° ì†ë„ (0.9 = ì•½ê°„ ëŠë¦¬ê²Œ, ì‹œë‹ˆì–´ íƒ€ê²Ÿ)
    'pitch': 0.0,               # ìŒë†’ì´ ì¡°ì ˆ

    # ë¹„ìš© (100ë§Œ ê¸€ìë‹¹)
    'cost_per_million_chars': {
        'neural2': 16.0,        # $16/100ë§Œ ê¸€ì
        'wavenet': 4.0,         # $4/100ë§Œ ê¸€ì
        'gemini_flash': 0.6,    # Gemini Flash TTS (í† í° ê¸°ë°˜ í™˜ì‚°)
        'gemini_pro': 10.0,     # Gemini Pro TTS (í† í° ê¸°ë°˜ í™˜ì‚°)
    },
}


# =============================================================================
# 5. ì•„ì›ƒíŠ¸ë¡œ ì„¤ì •
# =============================================================================
# ì‚¬ìš©ì²˜: drama_server.py 14961-14989í–‰

OUTRO = {
    'duration': 5,              # ì•„ì›ƒíŠ¸ë¡œ ê¸¸ì´ (ì´ˆ)
    'resolution': (1280, 720),  # í•´ìƒë„
    'fps': 24,                  # í”„ë ˆì„ë ˆì´íŠ¸

    # ë°°ê²½ ìƒ‰ìƒ (ê·¸ë¼ë°ì´ì…˜)
    'background_color': '0x1a1a2e',

    # í…ìŠ¤íŠ¸ ì„¤ì •
    'texts': [
        {
            'text': 'ì‹œì²­í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤',
            'font_size': 48,
            'color': 'white',
            'y_offset': -70,    # ì¤‘ì•™ ê¸°ì¤€ Y ì˜¤í”„ì…‹
        },
        {
            'text': 'ì¢‹ì•„ìš”ì™€ êµ¬ë… ë¶€íƒë“œë ¤ìš”',
            'font_size': 38,
            'color': 'yellow',
            'y_offset': 15,
        },
        {
            'text': 'ì•Œë¦¼ ì„¤ì •ë„ ìŠì§€ ë§ˆì„¸ìš”',
            'font_size': 30,
            'color': '#aaaaaa',
            'y_offset': 80,
        },
    ],

    # í˜ì´ë“œ íš¨ê³¼
    'fade_in': 0.5,             # í˜ì´ë“œ ì¸ (ì´ˆ)
    'fade_out': 0.5,            # í˜ì´ë“œ ì•„ì›ƒ (ì´ˆ)
}


# =============================================================================
# 6. í™”ë©´ í°íŠ¸ ì„¤ì •
# =============================================================================
# ì‚¬ìš©ì²˜: drama_server.py 6664-6667í–‰, 7994-7998í–‰, 8757-8762í–‰, 14079í–‰,
#        14209í–‰, 14311í–‰, 14949-14953í–‰, 15449í–‰, 15789í–‰, 17731-17732í–‰

FONTS = {
    # ê¸°ë³¸ í°íŠ¸ (í•œêµ­ì–´ ì „ì²´ì—ì„œ ì‚¬ìš©)
    'default': 'NanumSquareRoundB.ttf',
    'default_name': 'NanumSquareRound',  # ASS ìë§‰ìš© í°íŠ¸ ì´ë¦„

    # í°íŠ¸ ìš°ì„ ìˆœìœ„ (ì²« ë²ˆì§¸ë¶€í„° ì‹œë„)
    'priority': [
        'NanumSquareRoundB.ttf',     # ë‚˜ëˆ”ìŠ¤í€˜ì–´ë¼ìš´ë“œ ë³¼ë“œ (ê¸°ë³¸)
        'NanumGothicBold.ttf',       # ë‚˜ëˆ”ê³ ë”• ë³¼ë“œ (í´ë°±)
        'NanumGothic.ttf',           # ë‚˜ëˆ”ê³ ë”•
        'NanumBarunGothicBold.ttf',  # ë‚˜ëˆ”ë°”ë¥¸ê³ ë”• ë³¼ë“œ
    ],

    # ì‹œìŠ¤í…œ í°íŠ¸ ê²½ë¡œ (fonts/ í´ë”ì— ì—†ì„ ë•Œ)
    'system_paths': [
        '/usr/share/fonts/truetype/nanum/NanumSquareRoundB.ttf',
        '/usr/share/fonts/truetype/nanum/NanumGothicBold.ttf',
    ],

    # ìš©ë„ë³„ í°íŠ¸ ì„¤ì • (ëª¨ë‘ NanumSquareRound ì‚¬ìš©)
    'subtitle': {
        'name': 'NanumSquareRound',
        'file': 'NanumSquareRoundB.ttf',
        'size': 28,
    },
    'thumbnail': {
        'name': 'NanumSquareRound',
        'file': 'NanumSquareRoundB.ttf',
        'size': 60,
    },
    'overlay': {
        'name': 'NanumSquareRound',
        'file': 'NanumSquareRoundB.ttf',
        'size': 40,
    },
    'outro': {
        'name': 'NanumSquareRound',
        'file': 'NanumSquareRoundB.ttf',
        'sizes': [48, 38, 30],
    },
    'lower_third': {
        'name': 'NanumSquareRound',
        'file': 'NanumSquareRoundB.ttf',
        'size': 32,
    },
    'news_ticker': {
        'name': 'NanumSquareRound',
        'file': 'NanumSquareRoundB.ttf',
        'size': 28,
    },
}


# =============================================================================
# 7. ì¸ë„¤ì¼ í…ìŠ¤íŠ¸ ì„¤ì •
# =============================================================================
# ì‚¬ìš©ì²˜: drama_server.py 11604í–‰, 12071í–‰, 12075í–‰

THUMBNAIL_TEXT = {
    'main': {
        'max_chars': 6,          # ë©”ì¸ í…ìŠ¤íŠ¸ ìµœëŒ€ ê¸€ì (í° ê¸€ì”¨)
        'font_size': 80,
    },
    'sub': {
        'max_chars': 15,         # ì„œë¸Œ í…ìŠ¤íŠ¸ ìµœëŒ€ ê¸€ì (ì‘ì€ ê¸€ì”¨)
        'font_size': 40,
    },
}


# =============================================================================
# 8. ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ ì„¤ì •
# =============================================================================
# ì‚¬ìš©ì²˜: drama_server.py 3574-3595í–‰, 4323-4326í–‰, 11517í–‰

IMAGE_PROMPT = {
    # í•œêµ­ì¸ ì¸ë¬¼ í”„ë¡¬í”„íŠ¸ í”„ë¦¬í”½ìŠ¤
    'person_prefix': (
        "Korean person from South Korea with authentic Korean/East Asian ethnicity, "
        "Korean facial bone structure, Korean skin tone"
    ),

    # í•œêµ­ ë°°ê²½ í‚¤ì›Œë“œ
    'background_keywords': [
        'Korean cafe', 'Korean apartment', 'Korean restaurant',
        'Korean street', 'Korean countryside', 'Korean church',
    ],

    # ìŠ¤íƒ€ì¼ í‚¤ì›Œë“œ
    'style_keywords': [
        'cinematic Korean drama style',
        'professional photography',
        '8k resolution',
    ],
}


# =============================================================================
# í—¬í¼ í•¨ìˆ˜
# =============================================================================

def get_font_path(usage='subtitle'):
    """ìš©ë„ì— ë§ëŠ” í°íŠ¸ ê²½ë¡œ ë°˜í™˜"""
    import os

    font_info = FONTS.get(usage, FONTS['subtitle'])
    font_name = font_info.get('name', 'NanumGothicBold') + '.ttf'

    # í”„ë¡œì íŠ¸ fonts í´ë”ì—ì„œ ì°¾ê¸°
    for font in FONTS['priority']:
        if font_name in font or font in font_name:
            return f"fonts/{font}"

    # ì‹œìŠ¤í…œ ê²½ë¡œì—ì„œ ì°¾ê¸°
    for path in FONTS['system_paths']:
        if os.path.exists(path):
            return path

    return f"fonts/{FONTS['priority'][0]}"
